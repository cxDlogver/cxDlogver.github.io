

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/dog.png">
  <link rel="icon" href="/img/dog.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Xiang Chen">
  <meta name="keywords" content="">
  
    <meta name="description" content="对JavaScript知识总结。">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript基础">
<meta property="og:url" content="http://example.com/2025/08/04/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/JavaScript%E6%A0%B8%E5%BF%83%E6%80%BB%E7%BB%93/index.html">
<meta property="og:site_name" content="相">
<meta property="og:description" content="对JavaScript知识总结。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/2025/08/04/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/JavaScript%E6%A0%B8%E5%BF%83%E6%80%BB%E7%BB%93/image-20250802233313942.png">
<meta property="og:image" content="http://example.com/2025/08/04/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/JavaScript%E6%A0%B8%E5%BF%83%E6%80%BB%E7%BB%93/20220808135838431.png">
<meta property="og:image" content="http://example.com/2025/08/04/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/JavaScript%E6%A0%B8%E5%BF%83%E6%80%BB%E7%BB%93/20220808141848408.png">
<meta property="og:image" content="http://example.com/2025/08/04/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/JavaScript%E6%A0%B8%E5%BF%83%E6%80%BB%E7%BB%93/20220808210844195.png">
<meta property="article:published_time" content="2025-08-03T16:15:56.000Z">
<meta property="article:modified_time" content="2025-12-13T16:44:39.171Z">
<meta property="article:author" content="Xiang Chen">
<meta property="article:tag" content="前端三件套">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://example.com/2025/08/04/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/JavaScript%E6%A0%B8%E5%BF%83%E6%80%BB%E7%BB%93/image-20250802233313942.png">
  
  
  
  <title>JavaScript基础 - 相</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.7","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 7.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>相</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="JavaScript基础"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2025-08-04 00:15" pubdate>
          2025年8月4日 凌晨
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          23k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          193 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">JavaScript基础</h1>
            
            
              <div class="markdown-body">
                
                <p>对JavaScript知识总结。</p>
<span id="more"></span>

<h1 id="JavaScript基础"><a href="#JavaScript基础" class="headerlink" title="JavaScript基础"></a>JavaScript基础</h1><h2 id="JavaScript-专业词汇"><a href="#JavaScript-专业词汇" class="headerlink" title="JavaScript 专业词汇"></a>JavaScript 专业词汇</h2><ul>
<li><code>表达式</code></li>
<li><code>代码块</code></li>
<li><code>函数闭包</code></li>
</ul>
<h2 id="JavaScript-的数据类型"><a href="#JavaScript-的数据类型" class="headerlink" title="JavaScript 的数据类型"></a>JavaScript 的数据类型</h2><h3 id="【数据类型】"><a href="#【数据类型】" class="headerlink" title="【数据类型】"></a>【数据类型】</h3><p>JavaScript 中的数据类型分为 <strong>原始类型（Primitive Types）</strong> 和 <strong>引用类型（Reference Types）</strong>。</p>
<p><strong>1. 原始类型（7种）：</strong></p>
<table>
<thead>
<tr>
<th>类型</th>
<th>说明</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td><code>Number</code></td>
<td>数值，包括整数、浮点数、NaN、Infinity等</td>
<td><code>1</code>, <code>3.14</code>, <code>NaN</code></td>
</tr>
<tr>
<td><code>String</code></td>
<td>字符串类型</td>
<td><code>&#39;hello&#39;</code>, <code>&quot;world&quot;</code></td>
</tr>
<tr>
<td><code>Boolean</code></td>
<td>布尔类型</td>
<td><code>true</code>, <code>false</code></td>
</tr>
<tr>
<td><code>undefined</code></td>
<td>表示未定义的变量</td>
<td><code>let a;</code> <code>typeof a // &quot;undefined&quot;</code></td>
</tr>
<tr>
<td><code>null</code></td>
<td>表示空值，常用于对象占位</td>
<td><code>let a = null</code></td>
</tr>
<tr>
<td><code>Symbol</code></td>
<td>唯一值，用于对象属性名</td>
<td><code>Symbol(&#39;desc&#39;)</code></td>
</tr>
<tr>
<td><code>BigInt</code></td>
<td>表示大整数</td>
<td><code>12345678901234567890n</code></td>
</tr>
</tbody></table>
<ul>
<li>模板字符串：使用反单引号&#96; 来表示模板字符串模板字符串中可以嵌入变量</li>
</ul>
<p><strong>2. 引用类型（对象类型）：</strong></p>
<table>
<thead>
<tr>
<th>类型</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td><code>Object</code></td>
<td><code>&#123;&#125;</code>、<code>&#123;name: &quot;JS&quot;&#125;</code></td>
</tr>
<tr>
<td><code>Array</code></td>
<td><code>[1, 2, 3]</code></td>
</tr>
<tr>
<td><code>Function</code></td>
<td><code>function() &#123;&#125;</code> 或箭头函数 <code>() =&gt; &#123;&#125;</code></td>
</tr>
<tr>
<td><code>Date</code></td>
<td><code>new Date()</code></td>
</tr>
<tr>
<td><code>RegExp</code></td>
<td><code>/abc/</code></td>
</tr>
<tr>
<td><code>Map</code> &#x2F; <code>Set</code></td>
<td><code>new Map()</code>, <code>new Set()</code></td>
</tr>
<tr>
<td><code>WeakMap</code> &#x2F; <code>WeakSet</code></td>
<td>稀疏结构，弱引用</td>
</tr>
</tbody></table>
<p><strong>3. 类型检测方法</strong></p>
<table>
<thead>
<tr>
<th>方法&#x2F;运算符</th>
<th>说明</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td><code>typeof</code></td>
<td>返回原始类型的字符串表示</td>
<td><code>typeof 123 // &quot;number&quot;</code></td>
</tr>
<tr>
<td><code>instanceof</code></td>
<td>判断对象是否为某个构造函数的实例</td>
<td><code>[] instanceof Array // true</code></td>
</tr>
<tr>
<td><code>Object.prototype.toString.call()</code></td>
<td>精确判断所有类型</td>
<td><code>Object.prototype.toString.call(null) // &quot;[object Null]&quot;</code></td>
</tr>
<tr>
<td><code>Array.isArray()</code></td>
<td>判断是否为数组</td>
<td><code>Array.isArray([]) // true</code></td>
</tr>
</tbody></table>
<h3 id="【类型转换方式】"><a href="#【类型转换方式】" class="headerlink" title="【类型转换方式】"></a>【类型转换方式】</h3><p>JavaScript 支持三种类型转换：</p>
<ol>
<li><strong>显式类型转换</strong></li>
</ol>
<p>使用内建函数进行强制转换。</p>
<table>
<thead>
<tr>
<th>目标类型</th>
<th>方法</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td>转为字符串</td>
<td><code>String(value)</code> 或 <code>value.toString()</code></td>
<td><code>String(123) → &quot;123&quot;</code></td>
</tr>
<tr>
<td>转为数字</td>
<td><code>Number(value)</code> 或 <code>parseInt</code>, <code>parseFloat</code></td>
<td><code>Number(&quot;123&quot;) → 123</code></td>
</tr>
<tr>
<td>转为布尔值</td>
<td><code>Boolean(value)</code></td>
<td><code>Boolean(&quot;&quot;) → false</code></td>
</tr>
</tbody></table>
<ol start="2">
<li><strong>隐式类型转换</strong></li>
</ol>
<blockquote>
<p><font color="#008B8B">弱类型语言</font>：在弱类型语言中，<strong>变量的数据类型可以隐式转换</strong>，而不是强制规定。JavaScript是一种典型的弱类型语言。</p>
</blockquote>
<p>JS 在运算时会自动进行类型转换。</p>
<table>
<thead>
<tr>
<th>情况</th>
<th>示例</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>字符串拼接</td>
<td><code>&quot;1&quot; + 2 → &quot;12&quot;</code></td>
<td>数字被转为字符串</td>
</tr>
<tr>
<td>算术运算</td>
<td><code>&quot;5&quot; * &quot;2&quot; → 10</code></td>
<td>字符串被转为数字</td>
</tr>
<tr>
<td>布尔上下文</td>
<td><code>if (&quot;hello&quot;) &#123;...&#125;</code></td>
<td>非空字符串为 <code>true</code></td>
</tr>
<tr>
<td>与运算符 <code>==</code></td>
<td><code>null == undefined → true</code></td>
<td>非严格等于可能发生类型转换</td>
</tr>
</tbody></table>
<ol start="3">
<li><strong>自动装箱（Boxing）与解箱（Unboxing）</strong></li>
</ol>
<p>原始值在需要对象时被自动包装为对象（如访问 <code>.length</code> 或调用方法时）。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;hello&quot;</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(str.<span class="hljs-property">length</span>); <span class="hljs-comment">// 自动装箱为 String 对象</span><br></code></pre></td></tr></table></figure>

<h2 id="JavaScript的运算符"><a href="#JavaScript的运算符" class="headerlink" title="JavaScript的运算符"></a>JavaScript的运算符</h2><p><strong>1.算术运算符（Arithmetic Operators）</strong></p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>含义</th>
<th>示例</th>
<th>结果</th>
</tr>
</thead>
<tbody><tr>
<td><code>+</code></td>
<td>加法 &#x2F; 字符串拼接</td>
<td><code>2 + 3</code></td>
<td><code>5</code></td>
</tr>
<tr>
<td><code>-</code></td>
<td>减法</td>
<td><code>5 - 2</code></td>
<td><code>3</code></td>
</tr>
<tr>
<td><code>*</code></td>
<td>乘法</td>
<td><code>3 * 4</code></td>
<td><code>12</code></td>
</tr>
<tr>
<td><code>/</code></td>
<td>除法</td>
<td><code>10 / 2</code></td>
<td><code>5</code></td>
</tr>
<tr>
<td><code>%</code></td>
<td>取模（余数）</td>
<td><code>10 % 3</code></td>
<td><code>1</code></td>
</tr>
<tr>
<td><code>**</code></td>
<td>幂运算（ES6）</td>
<td><code>2 ** 3</code></td>
<td><code>8</code></td>
</tr>
<tr>
<td><code>++</code></td>
<td>自增</td>
<td><code>x++</code> &#x2F; <code>++x</code></td>
<td><code>x + 1</code></td>
</tr>
<tr>
<td><code>--</code></td>
<td>自减</td>
<td><code>x--</code> &#x2F; <code>--x</code></td>
<td><code>x - 1</code></td>
</tr>
</tbody></table>
<p><strong>2.赋值运算符（Assignment Operators）</strong></p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>含义</th>
<th>示例</th>
<th>等同于</th>
</tr>
</thead>
<tbody><tr>
<td><code>=</code></td>
<td>赋值</td>
<td><code>a = 5</code></td>
<td></td>
</tr>
<tr>
<td><code>+=</code></td>
<td>加后赋值</td>
<td><code>a += 2</code></td>
<td><code>a = a + 2</code></td>
</tr>
<tr>
<td><code>-=</code></td>
<td>减后赋值</td>
<td><code>a -= 1</code></td>
<td><code>a = a - 1</code></td>
</tr>
<tr>
<td><code>*=</code></td>
<td>乘后赋值</td>
<td><code>a *= 3</code></td>
<td><code>a = a * 3</code></td>
</tr>
<tr>
<td><code>/=</code></td>
<td>除后赋值</td>
<td><code>a /= 2</code></td>
<td><code>a = a / 2</code></td>
</tr>
<tr>
<td><code>%=</code></td>
<td>取模后赋值</td>
<td><code>a %= 3</code></td>
<td><code>a = a % 3</code></td>
</tr>
<tr>
<td><code>**=</code></td>
<td>幂后赋值（ES6）</td>
<td><code>a **= 2</code></td>
<td><code>a = a ** 2</code></td>
</tr>
<tr>
<td><code>??=</code></td>
<td>空赋值</td>
<td><code>null ??= defined</code></td>
<td></td>
</tr>
</tbody></table>
<blockquote>
<p><code>??=</code> 只有当变量的值为null或undefined时才会对变量进行赋值</p>
</blockquote>
<p><strong>3.比较运算符（Comparison Operators）</strong></p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>含义</th>
<th>示例</th>
<th>结果类型</th>
</tr>
</thead>
<tbody><tr>
<td><code>==</code></td>
<td>相等（类型转换）</td>
<td><code>&#39;5&#39; == 5</code></td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>===</code></td>
<td>全等（值和类型）</td>
<td><code>&#39;5&#39; === 5</code></td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>!=</code></td>
<td>不等</td>
<td><code>&#39;5&#39; != 5</code></td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>!==</code></td>
<td>不全等</td>
<td><code>&#39;5&#39; !== 5</code></td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>&gt;</code></td>
<td>大于</td>
<td><code>5 &gt; 3</code></td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>&lt;</code></td>
<td>小于</td>
<td><code>2 &lt; 4</code></td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>&gt;=</code></td>
<td>大于或等于</td>
<td><code>5 &gt;= 5</code></td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>&lt;=</code></td>
<td>小于或等于</td>
<td><code>3 &lt;= 2</code></td>
<td><code>false</code></td>
</tr>
</tbody></table>
<blockquote>
<p>⚠️ 推荐使用 <code>===</code> 和 <code>!==</code>，避免隐式类型转换带来的 bug。</p>
</blockquote>
<p><strong>4.逻辑运算符（Logical Operators）</strong></p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>含义</th>
<th>示例</th>
<th>返回值类型</th>
</tr>
</thead>
<tbody><tr>
<td><code>&amp;&amp;</code></td>
<td>与（AND）</td>
<td><code>true &amp;&amp; false</code></td>
<td><code>false</code></td>
</tr>
<tr>
<td>&#96;</td>
<td></td>
<td>&#96;</td>
<td>或（OR）</td>
</tr>
<tr>
<td><code>!</code></td>
<td>非（NOT）</td>
<td><code>!true</code></td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>??</code></td>
<td>空值合并</td>
<td><code>null ?? &#39;default&#39;</code></td>
<td><code>&#39;default&#39;</code></td>
</tr>
</tbody></table>
<blockquote>
<p><code>??</code> 是 ES2020 引入的，仅在左侧为 <code>null</code> 或 <code>undefined</code> 时返回右侧值。</p>
</blockquote>
<p><strong>5.位运算符（Bitwise Operators）</strong></p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>含义</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td><code>&amp;</code></td>
<td>按位与</td>
<td><code>5 &amp; 1 = 1</code></td>
</tr>
<tr>
<td>&#96;</td>
<td>&#96;</td>
<td>按位或</td>
</tr>
<tr>
<td><code>^</code></td>
<td>按位异或</td>
<td><code>5 ^ 1 = 4</code></td>
</tr>
<tr>
<td><code>~</code></td>
<td>按位非（取反）</td>
<td><code>~5 = -6</code></td>
</tr>
<tr>
<td><code>&lt;&lt;</code></td>
<td>左移</td>
<td><code>5 &lt;&lt; 1 = 10</code></td>
</tr>
<tr>
<td><code>&gt;&gt;</code></td>
<td>有符号右移</td>
<td><code>5 &gt;&gt; 1 = 2</code></td>
</tr>
<tr>
<td><code>&gt;&gt;&gt;</code></td>
<td>无符号右移</td>
<td><code>-5 &gt;&gt;&gt; 1</code></td>
</tr>
</tbody></table>
<p><strong>6.字符串运算符</strong></p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>含义</th>
<th>示例</th>
<th>结果</th>
</tr>
</thead>
<tbody><tr>
<td><code>+</code></td>
<td>拼接字符串</td>
<td><code>&#39;a&#39; + &#39;b&#39;</code></td>
<td><code>&#39;ab&#39;</code></td>
</tr>
</tbody></table>
<p><strong>7.三元运算符（Ternary Operator）</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">条件 ? 真值 : 假值<br></code></pre></td></tr></table></figure>

<p>示例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> result = age &gt;= <span class="hljs-number">18</span> ? <span class="hljs-string">&#x27;adult&#x27;</span> : <span class="hljs-string">&#x27;minor&#x27;</span>;<br></code></pre></td></tr></table></figure>

<hr>
<p><strong>8.类型运算符</strong></p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>含义</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td><code>typeof</code></td>
<td>返回变量的类型字符串</td>
<td><code>typeof 123 // &quot;number&quot;</code></td>
</tr>
<tr>
<td><code>instanceof</code></td>
<td>判断是否为某个构造函数的实例</td>
<td><code>[] instanceof Array // true</code></td>
</tr>
<tr>
<td><code>in</code></td>
<td>属性是否在对象中</td>
<td><code>&quot;name&quot; in obj</code></td>
</tr>
<tr>
<td><code>delete</code></td>
<td>删除对象的属性</td>
<td><code>delete obj.name</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td>执行表达式但返回 <code>undefined</code></td>
<td><code>void 0 // undefined</code></td>
</tr>
</tbody></table>
<p><strong>9.扩展运算符（ES6+）</strong></p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>含义</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td><code>...</code></td>
<td>展开 &#x2F; 剩余运算符</td>
<td><code>[...arr]</code>, <code>&#123;...obj&#125;</code></td>
</tr>
<tr>
<td><code>?.</code></td>
<td>可选链运算符（ES2020）</td>
<td><code>user?.info?.name</code></td>
</tr>
</tbody></table>
<p><strong>10.运算符优先级（常见顺序）</strong></p>
<p>优先级从高到低（越上面越先执行）：</p>
<ol>
<li>括号 <code>()</code></li>
<li>成员访问 <code>.</code>、<code>[]</code></li>
<li>函数调用 <code>()</code></li>
<li>一元运算符 <code>!</code>, <code>typeof</code>, <code>++</code>, <code>--</code></li>
<li>幂运算 <code>**</code></li>
<li>乘、除、取模 <code>* / %</code></li>
<li>加、减 <code>+ -</code></li>
<li>位运算</li>
<li>比较运算符</li>
<li>逻辑运算符</li>
<li>三元运算符 <code>? :</code></li>
<li>赋值 <code>= += -=</code></li>
<li>逗号运算符 <code>,</code></li>
</ol>
<h2 id="JavaScript隐式类型转换"><a href="#JavaScript隐式类型转换" class="headerlink" title="JavaScript隐式类型转换"></a>JavaScript隐式类型转换</h2><h3 id="【转换规律】"><a href="#【转换规律】" class="headerlink" title="【转换规律】"></a>【转换规律】</h3><p>JavaScript 中的类型转换主要有三种方向：</p>
<ul>
<li><strong>转为字符串（ToString）</strong></li>
<li><strong>转为数字（ToNumber）</strong></li>
<li><strong>转为布尔值（ToBoolean）</strong></li>
</ul>
<ol>
<li><strong>转为布尔值（ToBoolean）</strong></li>
</ol>
<p>转换为 <code>false</code> 的值（称为“<strong>假值</strong>”）：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-literal">false</span><br><span class="hljs-number">0</span><br>-<span class="hljs-number">0</span><br><span class="hljs-number">0n</span>       <span class="hljs-comment">// BigInt 的 0</span><br><span class="hljs-string">&#x27;&#x27;</span><br><span class="hljs-literal">null</span><br><span class="hljs-literal">undefined</span><br><span class="hljs-title class_">NaN</span><br></code></pre></td></tr></table></figure>

<p>其余全部为 <code>true</code>（即便是空数组 <code>[]</code>、空对象 <code>&#123;&#125;</code> 也为真）。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Boolean</span>([]) → <span class="hljs-literal">true</span><br><span class="hljs-title class_">Boolean</span>(&#123;&#125;) → <span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure>

<p><strong>2. 转为数字（ToNumber）</strong></p>
<table>
<thead>
<tr>
<th>值</th>
<th>转换后</th>
</tr>
</thead>
<tbody><tr>
<td><code>true</code></td>
<td><code>1</code></td>
</tr>
<tr>
<td><code>false</code></td>
<td><code>0</code></td>
</tr>
<tr>
<td><code>null</code></td>
<td><code>0</code></td>
</tr>
<tr>
<td><code>undefined</code></td>
<td><code>NaN</code></td>
</tr>
<tr>
<td><code>&#39;&#39;</code></td>
<td><code>0</code></td>
</tr>
<tr>
<td><code>&#39;123&#39;</code></td>
<td><code>123</code></td>
</tr>
<tr>
<td><code>&#39;123abc&#39;</code></td>
<td><code>NaN</code></td>
</tr>
<tr>
<td><code>[]</code></td>
<td><code>0</code></td>
</tr>
<tr>
<td><code>[123]</code></td>
<td><code>123</code></td>
</tr>
<tr>
<td><code>&#123;&#125;</code></td>
<td><code>NaN</code></td>
</tr>
</tbody></table>
<p><strong>3. 转为字符串（ToString）</strong></p>
<table>
<thead>
<tr>
<th>值</th>
<th>转换后</th>
</tr>
</thead>
<tbody><tr>
<td><code>true</code></td>
<td><code>&quot;true&quot;</code></td>
</tr>
<tr>
<td><code>false</code></td>
<td><code>&quot;false&quot;</code></td>
</tr>
<tr>
<td><code>null</code></td>
<td><code>&quot;null&quot;</code></td>
</tr>
<tr>
<td><code>undefined</code></td>
<td><code>&quot;undefined&quot;</code></td>
</tr>
<tr>
<td><code>123</code></td>
<td><code>&quot;123&quot;</code></td>
</tr>
<tr>
<td><code>[]</code></td>
<td><code>&quot;&quot;</code></td>
</tr>
<tr>
<td><code>[1, 2]</code></td>
<td><code>&quot;1,2&quot;</code></td>
</tr>
<tr>
<td><code>&#123;&#125;</code></td>
<td><code>&quot;[object Object]&quot;</code></td>
</tr>
</tbody></table>
<h3 id="【隐式类型转换场景】"><a href="#【隐式类型转换场景】" class="headerlink" title="【隐式类型转换场景】"></a>【隐式类型转换场景】</h3><ol>
<li><strong>与运算符相关的转换</strong></li>
</ol>
<table>
<thead>
<tr>
<th>运算符</th>
<th>示例</th>
<th>转换说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>+</code>（加法）</td>
<td><code>&#39;5&#39; + 3</code> → <code>&#39;53&#39;</code></td>
<td>若有字符串，先转为字符串拼接</td>
</tr>
<tr>
<td><code>-</code>、<code>*</code>、<code>/</code>、<code>%</code></td>
<td><code>&#39;5&#39; - 2</code> → <code>3</code></td>
<td>将字符串转为数字运算</td>
</tr>
<tr>
<td><code>==</code>（宽松相等）</td>
<td><code>0 == false</code> → <code>true</code></td>
<td>进行值的转换后再比较</td>
</tr>
<tr>
<td><code>===</code>（严格相等）</td>
<td><code>0 === false</code> → <code>false</code></td>
<td>不进行类型转换</td>
</tr>
<tr>
<td><code>!</code>（逻辑非）</td>
<td><code>!0</code> → <code>true</code></td>
<td>转换为布尔值取反</td>
</tr>
</tbody></table>
<ol start="2">
<li><strong>与条件判断相关的转换</strong></li>
</ol>
<p>在 <code>if</code>、<code>while</code>、三元运算符中，会将表达式转换为布尔值。</p>
<ol start="3">
<li><strong>与对象相关的转换</strong></li>
</ol>
<p>当对象参与算术或比较运算时，会触发 <code>valueOf()</code> 或 <code>toString()</code> 方法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">&#123;&#125; + <span class="hljs-number">1</span>        <span class="hljs-comment">// &quot;[object Object]1&quot;</span><br>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>] + <span class="hljs-number">3</span>    <span class="hljs-comment">// &quot;1,23&quot;</span><br>&#123;&#125; == <span class="hljs-string">&quot;[object Object]&quot;</span> <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure>

<h3 id="【隐式转换规律总结】"><a href="#【隐式转换规律总结】" class="headerlink" title="【隐式转换规律总结】"></a>【隐式转换规律总结】</h3><p>基本规律一：优先转为字符串（尤其是 <code>+</code>）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-string">&#x27;2&#x27;</span> + <span class="hljs-number">1</span>        <span class="hljs-comment">// &quot;21&quot;</span><br><span class="hljs-literal">true</span> + <span class="hljs-string">&#x27;abc&#x27;</span>   <span class="hljs-comment">// &quot;trueabc&quot;</span><br>[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>] + <span class="hljs-number">3</span>      <span class="hljs-comment">// &quot;1,23&quot;</span><br></code></pre></td></tr></table></figure>

<p>基本规律二：其他算术运算尝试转为数字</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-string">&#x27;5&#x27;</span> - <span class="hljs-literal">true</span>     <span class="hljs-comment">// 4（&#x27;5&#x27;→5，true→1）</span><br><span class="hljs-literal">null</span> * <span class="hljs-number">8</span>       <span class="hljs-comment">// 0（null→0）</span><br><span class="hljs-string">&#x27;abc&#x27;</span> - <span class="hljs-number">1</span>      <span class="hljs-comment">// NaN（&#x27;abc&#x27; 转为数字失败）</span><br></code></pre></td></tr></table></figure>

<p>基本规律三：逻辑运算符返回的是<strong>原始值</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-literal">false</span> || <span class="hljs-string">&#x27;hello&#x27;</span>     <span class="hljs-comment">// &quot;hello&quot;</span><br><span class="hljs-number">0</span> &amp;&amp; <span class="hljs-number">123</span>             <span class="hljs-comment">// 0</span><br><span class="hljs-literal">null</span> ?? <span class="hljs-string">&#x27;default&#x27;</span>    <span class="hljs-comment">// &quot;default&quot;</span><br></code></pre></td></tr></table></figure>

<h3 id="【易错点示例】"><a href="#【易错点示例】" class="headerlink" title="【易错点示例】"></a>【易错点示例】</h3><table>
<thead>
<tr>
<th>表达式</th>
<th>结果</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>NaN == NaN</code></td>
<td><code>false</code></td>
<td>NaN不和任何值相等，包括它自身</td>
</tr>
<tr>
<td><code>null == undefined</code></td>
<td><code>true</code></td>
<td>是相等的</td>
</tr>
<tr>
<td><code>[] == false</code></td>
<td><code>true</code></td>
<td><code>[] → &#39;&#39; → 0</code>，<code>false → 0</code></td>
</tr>
<tr>
<td><code>[] == ![]</code></td>
<td><code>true</code></td>
<td><code>![] → false</code>，<code>[] == false → true</code></td>
</tr>
<tr>
<td><code>&#123;&#125; + []</code></td>
<td><code>[object Object]</code></td>
<td>第一个 <code>&#123;&#125;</code> 被解释为块</td>
</tr>
</tbody></table>
<h2 id="JavaScript函数"><a href="#JavaScript函数" class="headerlink" title="JavaScript函数"></a>JavaScript函数</h2><h3 id="【函数形式】"><a href="#【函数形式】" class="headerlink" title="【函数形式】"></a>【函数形式】</h3><ol>
<li><strong>函数声明式（Function Declaration）</strong></li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">a, b</span>) &#123;<br>  <span class="hljs-keyword">return</span> a + b;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>特点</strong>：可以在声明之前调用（函数提升）。</p>
<hr>
<ol start="2">
<li><strong>函数表达式（Function Expression）</strong></li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> add = <span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) &#123;<br>  <span class="hljs-keyword">return</span> a + b;<br>&#125;;<br></code></pre></td></tr></table></figure>

<p><strong>特点</strong>：必须先定义再调用。可以匿名或具名。</p>
<ol start="3">
<li><strong>箭头函数（Arrow Function）</strong></li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> <span class="hljs-title function_">add</span> = (<span class="hljs-params">a, b</span>) =&gt; a + b;<br></code></pre></td></tr></table></figure>

<p><strong>特点</strong>：</p>
<ul>
<li>更简洁；</li>
<li>没有自己的 <code>this</code>、<code>arguments</code>、<code>super</code>；</li>
<li>不能作为构造函数（不能用 <code>new</code> 调用）；</li>
<li>不能使用 <code>yield</code>，即不能用作生成器函数。</li>
</ul>
<ol start="4">
<li><strong>构造函数创建（Function 构造器）</strong></li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> add = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Function</span>(<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;return a + b&#x27;</span>);<br></code></pre></td></tr></table></figure>

<p><strong>特点</strong>：动态创建函数，但不推荐使用（安全性差、性能差）。</p>
<h3 id="【参数与返回值】"><a href="#【参数与返回值】" class="headerlink" title="【参数与返回值】"></a>【参数与返回值】</h3><p>函数返回值必须是一个值，包括对象、表达式（如函数表达式），没有返回值默认返回<code>undefined</code>。</p>
<h3 id="【回调函数（Callback）】"><a href="#【回调函数（Callback）】" class="headerlink" title="【回调函数（Callback）】"></a>【回调函数（Callback）】</h3><p><strong>回调函数</strong>是指作为参数传递给另一个函数的函数，并在该函数内部在某个时刻被“调用”。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">doSomething</span>(<span class="hljs-params">callback</span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Doing something...&quot;</span>);<br>  <span class="hljs-title function_">callback</span>(); <span class="hljs-comment">// 调用传入的函数</span><br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">sayHello</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Hello!&quot;</span>);<br>&#125;<br><br><span class="hljs-title function_">doSomething</span>(sayHello); <span class="hljs-comment">// 输出：Doing something... 然后 Hello!</span><br></code></pre></td></tr></table></figure>

<p>在这个例子中，<code>sayHello</code> 是一个 <strong>回调函数</strong>，它作为参数传递给 <code>doSomething</code>，并在内部被调用。</p>
<p><strong>事件监听</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">button.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;click&quot;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Button clicked&quot;</span>);<br>&#125;);<br></code></pre></td></tr></table></figure>

<p><strong>数组方法</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>].<span class="hljs-title function_">forEach</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(item);<br>&#125;);<br></code></pre></td></tr></table></figure>

<p><strong>异步操作（如定时器）</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;延迟1秒执行&quot;</span>);<br>&#125;, <span class="hljs-number">1000</span>);<br></code></pre></td></tr></table></figure>

<p><strong>命名 vs 匿名回调函数</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 匿名回调</span><br><span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;匿名函数&quot;</span>);<br>&#125;, <span class="hljs-number">1000</span>);<br><br><span class="hljs-comment">// 命名回调</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">callbackFn</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;命名函数&quot;</span>);<br>&#125;<br><span class="hljs-built_in">setTimeout</span>(callbackFn, <span class="hljs-number">1000</span>);<br></code></pre></td></tr></table></figure>

<p><strong>箭头函数也可以作为回调函数</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Arrow function callback&quot;</span>);<br>&#125;, <span class="hljs-number">1000</span>);<br></code></pre></td></tr></table></figure>

<blockquote>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/m0_46165586/article/details/143785628">为什么JavaScript中函数也能看成对象_js函数也是对象,怎么理解-CSDN博客</a></p>
</blockquote>
<h3 id="【window-对象】"><a href="#【window-对象】" class="headerlink" title="【window 对象】"></a>【window 对象】</h3><p>在浏览器中，<code>window</code> 是顶级对象，全局作用域下声明的变量和函数（<code>var</code>、<code>function</code>）都会变成 <code>window</code> 的属性或方法；而 <code>let</code> 和 <code>const</code> 则不会。</p>
<p><code>window</code> 是<strong>浏览器环境中的全局对象</strong>。表示整个浏览器窗口。它包含了：</p>
<ul>
<li><strong>浏览器提供的宿主对象</strong>（如 <code>alert</code>、<code>setTimeout</code>）</li>
<li><strong>JavaScript 的全局变量和函数</strong></li>
<li><strong>全局作用域中的变量（var 声明的）和函数</strong></li>
</ul>
<p>在浏览器中，所有全局作用域下的 <code>var</code> 变量和 <code>function</code> 声明都会被挂载到 <code>window</code> 上。</p>
<p><strong>访问方式</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">window</span>.<span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;Hi&quot;</span>);   <span class="hljs-comment">// 通过 window 调用 alert 方法</span><br><span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;Hi&quot;</span>);          <span class="hljs-comment">// 可省略 window，效果相同</span><br></code></pre></td></tr></table></figure>

<p><strong>全局变量与 <code>window</code> 的关系</strong></p>
<p>1.<code>var</code> 声明的变量会挂载在 <code>window</code> 上：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> a = <span class="hljs-number">10</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">a</span>); <span class="hljs-comment">// 10</span><br></code></pre></td></tr></table></figure>

<p>2.<code>let</code> 和 <code>const</code> 声明的变量 <strong>不会</strong>挂在 <code>window</code> 上：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> b = <span class="hljs-number">20</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">b</span>); <span class="hljs-comment">// undefined</span><br></code></pre></td></tr></table></figure>

<p>3.没有使用 <code>var/let/const</code> 声明的变量也会挂在 <code>window</code> 上（不推荐，容易污染全局）：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">test</span>(<span class="hljs-params"></span>) &#123;<br>  undeclared = <span class="hljs-number">123</span>;<br>&#125;<br><span class="hljs-title function_">test</span>();<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">undeclared</span>); <span class="hljs-comment">// 123</span><br></code></pre></td></tr></table></figure>

<ol start="4">
<li>普通函数（使用 <code>function</code> 声明）自动挂载为 <code>window</code> 的方法：</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Hi&quot;</span>);<br>&#125;<br><span class="hljs-variable language_">window</span>.<span class="hljs-title function_">fn</span>(); <span class="hljs-comment">// 调用方式等同于 fn()</span><br></code></pre></td></tr></table></figure>

<p>常用 <code>window</code> 方法示例</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>alert()</code></td>
<td>弹出提示框</td>
</tr>
<tr>
<td><code>confirm()</code></td>
<td>弹出确认框（返回 true&#x2F;false）</td>
</tr>
<tr>
<td><code>prompt()</code></td>
<td>输入框，返回用户输入</td>
</tr>
<tr>
<td><code>setTimeout()</code></td>
<td>延时执行</td>
</tr>
<tr>
<td><code>setInterval()</code></td>
<td>定时重复执行</td>
</tr>
<tr>
<td><code>console.log()</code></td>
<td>控制台输出（也是 window 的一部分）</td>
</tr>
</tbody></table>
<h3 id="【变量和函数的提升】"><a href="#【变量和函数的提升】" class="headerlink" title="【变量和函数的提升】"></a>【变量和函数的提升】</h3><p><code>var</code>、<code>let</code>、函数在声明的时候会在代码开始执行之前声明，用于考虑内存分配。</p>
<p><strong><code>var</code> 声明的提升</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a); <span class="hljs-comment">// undefined</span><br><span class="hljs-keyword">var</span> a = <span class="hljs-number">10</span>;<br></code></pre></td></tr></table></figure>

<p>相当于解释器处理成：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> a;          <span class="hljs-comment">// 提升：声明但不赋值</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a); <span class="hljs-comment">// undefined</span><br>a = <span class="hljs-number">10</span>;<br></code></pre></td></tr></table></figure>

<p> <strong><code>let</code> 的“暂时性死区”（TDZ）</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b); <span class="hljs-comment">// 报错：Cannot access &#x27;b&#x27; before initialization</span><br><span class="hljs-keyword">let</span> b = <span class="hljs-number">10</span>;<br></code></pre></td></tr></table></figure>

<ul>
<li><code>let</code> 声明虽然也“提升”（被识别），但不会初始化。</li>
<li>在 <code>let b = 10;</code> 之前的任何访问都会抛出 <code>ReferenceError</code>。</li>
</ul>
<p><strong>函数声明的提升</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">fn</span>(); <span class="hljs-comment">// 正常执行：alert(&quot;我是fn函数~&quot;)</span><br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;我是fn函数~&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li><strong>函数声明（Function Declaration）</strong>：完整地被提升，包含函数体。</li>
</ul>
<p><strong>函数表达式不会被完整提升</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// fn2(); // 报错：fn2 is not a function</span><br><span class="hljs-keyword">var</span> fn2 = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;匿名函数&quot;</span>);<br>&#125;;<br></code></pre></td></tr></table></figure>

<h3 id="【立即执行函数】"><a href="#【立即执行函数】" class="headerlink" title="【立即执行函数】"></a>【立即执行函数】</h3><p><strong>立即执行函数</strong>是定义好之后立即被调用的函数，它的语法形式是：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-comment">// 函数体</span><br>&#125;)();<br></code></pre></td></tr></table></figure>

<p>或者：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-comment">// 函数体</span><br>&#125;());<br></code></pre></td></tr></table></figure>

<p>也可以使用箭头函数写法（ES6+）：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">(<span class="hljs-function">() =&gt;</span> &#123;<br>  <span class="hljs-comment">// 函数体</span><br>&#125;)();<br></code></pre></td></tr></table></figure>

<p>JavaScript 中 <code>function</code> 声明默认是函数声明语句，<strong>不能直接执行</strong>。</p>
<p>将函数用 <code>()</code> 包裹后，<strong>变成表达式</strong>，表达式就可以立即执行。</p>
<p><strong>为什么要用 IIFE？</strong></p>
<ol>
<li><strong>创建私有作用域</strong>，防止变量污染全局命名空间。</li>
<li>代码模块化的一种早期手段（模块化之前的写法）。</li>
<li>常用于库、插件或立即执行的逻辑中。</li>
<li>可用于封装变量、函数，防止外部访问。</li>
</ol>
<p><strong>IIFE 模块化用途</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> <span class="hljs-title class_">Counter</span> = (<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">let</span> count = <span class="hljs-number">0</span>;<br>  <span class="hljs-keyword">return</span> &#123;<br>    <span class="hljs-title function_">increment</span>(<span class="hljs-params"></span>) &#123;<br>      count++;<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(count);<br>    &#125;,<br>    <span class="hljs-title function_">reset</span>(<span class="hljs-params"></span>) &#123;<br>      count = <span class="hljs-number">0</span>;<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;reset&quot;</span>);<br>    &#125;<br>  &#125;;<br>&#125;)();<br><br><span class="hljs-title class_">Counter</span>.<span class="hljs-title function_">increment</span>(); <span class="hljs-comment">// 1</span><br><span class="hljs-title class_">Counter</span>.<span class="hljs-title function_">increment</span>(); <span class="hljs-comment">// 2</span><br><span class="hljs-title class_">Counter</span>.<span class="hljs-title function_">reset</span>();     <span class="hljs-comment">// reset</span><br></code></pre></td></tr></table></figure>

<h3 id="【函数的-this】"><a href="#【函数的-this】" class="headerlink" title="【函数的 this】"></a>【函数的 <code>this</code>】</h3><p><code>this</code> 是 JavaScript 函数执行时自动传入的一个 <strong>隐含参数</strong>，它的值取决于 <strong>函数的调用方式</strong>。</p>
<p><strong>基本规则</strong></p>
<table>
<thead>
<tr>
<th>调用方式</th>
<th><code>this</code> 指向</th>
</tr>
</thead>
<tbody><tr>
<td>普通函数调用</td>
<td>全局对象（浏览器中是 <code>window</code>） 在严格模式下是 <code>undefined</code></td>
</tr>
<tr>
<td>对象方法调用</td>
<td>调用该方法的对象（即 “点” 左边的对象）</td>
</tr>
<tr>
<td>构造函数调用（<code>new</code>）</td>
<td>新创建的实例对象</td>
</tr>
<tr>
<td>显式绑定（<code>call/apply/bind</code>）</td>
<td>显式指定的对象</td>
</tr>
<tr>
<td>箭头函数调用</td>
<td>**定义时所在作用域的 <code>this</code>**（不会改变）</td>
</tr>
</tbody></table>
<ol>
<li><strong>普通函数</strong></li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">test</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>);<br>&#125;<br><span class="hljs-title function_">test</span>(); <span class="hljs-comment">// 浏览器中输出：window；严格模式下输出：undefined</span><br></code></pre></td></tr></table></figure>

<p><strong>2. 对象方法</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> obj = &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;Tom&quot;</span>,<br>    <span class="hljs-attr">sayHello</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);<br>    &#125;<br>&#125;;<br>obj.<span class="hljs-title function_">sayHello</span>(); <span class="hljs-comment">// 输出 &quot;Tom&quot;，this 指向 obj</span><br></code></pre></td></tr></table></figure>

<p><strong>3. 构造函数</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span>(<span class="hljs-params">name</span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>&#125;<br><span class="hljs-keyword">const</span> p = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Alice&quot;</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(p.<span class="hljs-property">name</span>); <span class="hljs-comment">// &quot;Alice&quot;，this 指向新建的对象 p</span><br></code></pre></td></tr></table></figure>

<p><strong>4. 显式绑定</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">show</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);<br>&#125;<br><br><span class="hljs-keyword">const</span> user = &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;Bob&quot;</span> &#125;;<br>show.<span class="hljs-title function_">call</span>(user);   <span class="hljs-comment">// &quot;Bob&quot;</span><br>show.<span class="hljs-title function_">apply</span>(user);  <span class="hljs-comment">// &quot;Bob&quot;</span><br><br><span class="hljs-keyword">const</span> boundShow = show.<span class="hljs-title function_">bind</span>(user);<br><span class="hljs-title function_">boundShow</span>();       <span class="hljs-comment">// &quot;Bob&quot;</span><br></code></pre></td></tr></table></figure>

<ol start="5">
<li><strong>箭头函数</strong></li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> obj = &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;Tom&quot;</span>,<br>    <span class="hljs-attr">sayHello</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">const</span> <span class="hljs-title function_">arrow</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);<br>        &#125;;<br>        <span class="hljs-title function_">arrow</span>();<br>    &#125;<br>&#125;;<br>obj.<span class="hljs-title function_">sayHello</span>(); <span class="hljs-comment">// 输出 &quot;Tom&quot;，箭头函数的 this 继承自 sayHello 的 this</span><br></code></pre></td></tr></table></figure>

<p><strong>注意点</strong></p>
<ol>
<li>箭头函数的 <code>this</code> <strong>不会根据调用方式改变</strong>，它始终指向其定义时的外部作用域。</li>
<li>在事件监听函数中，若使用普通函数，则 <code>this</code> 是触发事件的元素；若使用箭头函数，<code>this</code> 是定义时的上下文（可能是 <code>window</code> 或外部对象）。</li>
<li>构造函数中若不使用 <code>new</code>，<code>this</code> 将指向 <code>window</code>，可能导致错误。</li>
</ol>
<h3 id="【高阶函数】"><a href="#【高阶函数】" class="headerlink" title="【高阶函数】"></a>【高阶函数】</h3><p><strong>高阶函数</strong>是指<strong>接收函数作为参数</strong>，或者<strong>返回一个函数</strong>的函数。</p>
<ol>
<li>接收函数作为参数</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">greet</span>(<span class="hljs-params">name</span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-string">`Hello, <span class="hljs-subst">$&#123;name&#125;</span>!`</span>;<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">processUserInput</span>(<span class="hljs-params">callback</span>) &#123;<br>  <span class="hljs-keyword">const</span> name = <span class="hljs-string">&quot;Alice&quot;</span>;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">callback</span>(name));<br>&#125;<br><br><span class="hljs-title function_">processUserInput</span>(greet); <span class="hljs-comment">// 输出: Hello, Alice!</span><br></code></pre></td></tr></table></figure>

<ol start="2">
<li>返回一个函数</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">multiplier</span>(<span class="hljs-params">factor</span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">x</span>) &#123;<br>    <span class="hljs-keyword">return</span> x * factor;<br>  &#125;;<br>&#125;<br><br><span class="hljs-keyword">const</span> double = <span class="hljs-title function_">multiplier</span>(<span class="hljs-number">2</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">double</span>(<span class="hljs-number">5</span>)); <span class="hljs-comment">// 输出: 10</span><br></code></pre></td></tr></table></figure>

<p>常见高阶函数（内置）</p>
<ul>
<li><code>Array.prototype.map()</code></li>
<li><code>Array.prototype.filter()</code></li>
<li><code>Array.prototype.reduce()</code></li>
<li><code>Array.prototype.forEach()</code></li>
<li><code>setTimeout</code>, <code>setInterval</code></li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br><span class="hljs-keyword">const</span> doubled = arr.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x * <span class="hljs-number">2</span>); <span class="hljs-comment">// [2, 4, 6]</span><br></code></pre></td></tr></table></figure>

<h3 id="【闭包】"><a href="#【闭包】" class="headerlink" title="【闭包】"></a>【闭包】</h3><p><strong>闭包</strong>是指<strong>一个函数可以访问其定义时的词法作用域，即使这个函数在其定义作用域之外被调用</strong>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">outer</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">let</span> count = <span class="hljs-number">0</span>;<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">inner</span>(<span class="hljs-params"></span>) &#123;<br>    count++;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(count);<br>  &#125;;<br>&#125;<br><br><span class="hljs-keyword">const</span> counter = <span class="hljs-title function_">outer</span>();<br><span class="hljs-title function_">counter</span>(); <span class="hljs-comment">// 1</span><br><span class="hljs-title function_">counter</span>(); <span class="hljs-comment">// 2</span><br></code></pre></td></tr></table></figure>

<ul>
<li><code>inner()</code> 函数访问了 <code>outer()</code> 中的局部变量 <code>count</code>。</li>
<li>即使 <code>outer()</code> 已经执行完，<code>inner()</code> 仍然“记住”了它的词法作用域——形成闭包。</li>
</ul>
<p>闭包和类的对比：</p>
<table>
<thead>
<tr>
<th>场景</th>
<th>推荐用闭包</th>
<th>推荐用类</th>
</tr>
</thead>
<tbody><tr>
<td>只需要几个函数操作内部状态</td>
<td>✅</td>
<td>🚫</td>
</tr>
<tr>
<td>有多个对象、共享行为（方法）</td>
<td>🚫</td>
<td>✅</td>
</tr>
<tr>
<td>需要完全私有变量</td>
<td>✅</td>
<td>✅（用 <code>#</code>）</td>
</tr>
<tr>
<td>多态、继承、原型链等 OOP 特性</td>
<td>🚫</td>
<td>✅</td>
</tr>
</tbody></table>
<ul>
<li><strong>闭包</strong>：每次调用 <code>createXXX</code> 函数会生成新的作用域，内存压力略大，不利于大规模实例化。</li>
<li><strong>类</strong>：方法可以挂在原型上，共享函数定义，<strong>更节省内存</strong>。</li>
</ul>
<h3 id="【argumen和可变参数】"><a href="#【argumen和可变参数】" class="headerlink" title="【argumen和可变参数】"></a>【argumen和可变参数】</h3><p><code>arguments</code></p>
<ul>
<li>在 <strong>函数内部</strong>，你可以使用内置的 <code>arguments</code> 对象来访问<strong>所有传入的实参</strong>。</li>
<li>它是一个<strong>类数组对象</strong>，包含调用函数时传入的所有参数。</li>
</ul>
<p>示例</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">sum</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">arguments</span>); <span class="hljs-comment">// 类数组：不是真正的数组</span><br>  <span class="hljs-keyword">let</span> total = <span class="hljs-number">0</span>;<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-variable language_">arguments</span>.<span class="hljs-property">length</span>; i++) &#123;<br>    total += <span class="hljs-variable language_">arguments</span>[i];<br>  &#125;<br>  <span class="hljs-keyword">return</span> total;<br>&#125;<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">sum</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>)); <span class="hljs-comment">// 输出: 10</span><br></code></pre></td></tr></table></figure>

<blockquote>
<p>注意：<code>arguments</code> 不能用于箭头函数（<code>=&gt;</code>），因为它没有自己的 <code>arguments</code> 对象。</p>
</blockquote>
<p><strong>可变参数（Rest Parameters）</strong></p>
<p>可变参数（Rest Parameters）使用 <code>...</code> 语法，将<strong>不定数量的参数</strong>收集到一个真正的数组中。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">sum</span>(<span class="hljs-params">...args</span>) &#123;<br>  <span class="hljs-keyword">return</span> args.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, cur</span>) =&gt;</span> acc + cur, <span class="hljs-number">0</span>);<br>&#125;<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">sum</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)); <span class="hljs-comment">// 输出：6</span><br></code></pre></td></tr></table></figure>

<ul>
<li><code>args</code> 是一个<strong>真正的数组</strong>，可以使用数组方法（如 <code>map</code>、<code>reduce</code>、<code>filter</code> 等）；</li>
<li>可以与固定参数一起使用，但 <code>...rest</code> 必须是最后一个参数。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">log</span>(<span class="hljs-params">name, ...messages</span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(name);<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(messages); <span class="hljs-comment">// messages 是数组</span><br>&#125;<br><br><span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Alice&quot;</span>, <span class="hljs-string">&quot;Hello&quot;</span>, <span class="hljs-string">&quot;World&quot;</span>);<br><span class="hljs-comment">// 输出：Alice</span><br><span class="hljs-comment">//      [&quot;Hello&quot;, &quot;World&quot;]</span><br></code></pre></td></tr></table></figure>

<p><code>arguments</code> 和 <code>rest 参数</code> 的区别</p>
<table>
<thead>
<tr>
<th>比较项</th>
<th><code>arguments</code> 对象</th>
<th><code>...rest</code> 可变参数</th>
</tr>
</thead>
<tbody><tr>
<td>是否数组</td>
<td>❌ 类数组对象</td>
<td>✅ 真正的数组</td>
</tr>
<tr>
<td>是否能用数组方法</td>
<td>❌ 需要转化</td>
<td>✅ 直接可用</td>
</tr>
<tr>
<td>是否支持箭头函数</td>
<td>❌ 不支持</td>
<td>✅ 支持</td>
</tr>
<tr>
<td>是否支持默认值</td>
<td>❌ 不支持</td>
<td>✅ 支持</td>
</tr>
<tr>
<td>是否可以命名</td>
<td>❌ 只能用 <code>arguments</code></td>
<td>✅ 可自定义名字</td>
</tr>
<tr>
<td>ES版本</td>
<td>ES3 就有</td>
<td>ES6 新特性</td>
</tr>
</tbody></table>
<h3 id="【call-apply-bind】"><a href="#【call-apply-bind】" class="headerlink" title="【call,apply,bind】"></a>【<code>call</code>,<code>apply</code>,<code>bind</code>】</h3><p><code>call</code>、<code>apply</code>、<code>bind</code> 是 JavaScript 中用于<strong>改变函数 <code>this</code> 指向</strong>的三个非常重要的方法，常用于手动控制函数的执行上下文。</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>作用</th>
<th>是否立即执行函数</th>
<th>参数传递方式</th>
</tr>
</thead>
<tbody><tr>
<td><code>call</code></td>
<td>改变 <code>this</code> 并执行函数</td>
<td>✅ 是</td>
<td>逐个传入参数</td>
</tr>
<tr>
<td><code>apply</code></td>
<td>改变 <code>this</code> 并执行函数</td>
<td>✅ 是</td>
<td><strong>数组</strong>传入参数</td>
</tr>
<tr>
<td><code>bind</code></td>
<td>改变 <code>this</code>，但<strong>不立即执行</strong>，返回新函数</td>
<td>❌ 否</td>
<td>逐个传入参数（可预设）</td>
</tr>
</tbody></table>
<p>示例函数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">greet</span>(<span class="hljs-params">greeting, punctuation</span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">$&#123;greeting&#125;</span>, <span class="hljs-subst">$&#123;<span class="hljs-variable language_">this</span>.name&#125;</span><span class="hljs-subst">$&#123;punctuation&#125;</span>`</span>);<br>&#125;<br><br><span class="hljs-keyword">const</span> person = &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Alice&#x27;</span> &#125;;<br></code></pre></td></tr></table></figure>

<p><code>call(thisArg, arg1, arg2, ...)</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js">greet.<span class="hljs-title function_">call</span>(person, <span class="hljs-string">&#x27;Hello&#x27;</span>, <span class="hljs-string">&#x27;!&#x27;</span>);<br><span class="hljs-comment">// 输出: Hello, Alice!</span><br></code></pre></td></tr></table></figure>

<p> <code>apply(thisArg, [arg1, arg2, ...])</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js">greet.<span class="hljs-title function_">apply</span>(person, [<span class="hljs-string">&#x27;Hi&#x27;</span>, <span class="hljs-string">&#x27;...&#x27;</span>]);<br><span class="hljs-comment">// 输出: Hi, Alice...</span><br></code></pre></td></tr></table></figure>

<p> <code>bind(thisArg, arg1, arg2, ...)</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> greetAlice = greet.<span class="hljs-title function_">bind</span>(person, <span class="hljs-string">&#x27;Hey&#x27;</span>);<br><span class="hljs-title function_">greetAlice</span>(<span class="hljs-string">&#x27;?&#x27;</span>); <span class="hljs-comment">// 输出: Hey, Alice?</span><br></code></pre></td></tr></table></figure>

<blockquote>
<p>箭头函数没有自身的this，它的this由外层作用域决定，也无法通过call apply 和 bind修改它的this</p>
</blockquote>
<h2 id="JavaScript面向对象编程"><a href="#JavaScript面向对象编程" class="headerlink" title="JavaScript面向对象编程"></a>JavaScript面向对象编程</h2><p><strong>面向对象编程（Object-Oriented Programming）</strong> 是一种编程思想，将现实世界中的事物抽象为对象，所以编写操作基于对象执行。通过 <strong>类（Class）</strong> 和 <strong>对象（Object）</strong> 来封装数据与行为，使程序更易于复用、扩展和维护。</p>
<p>OOP 三大特性：</p>
<ul>
<li><strong>封装</strong>：将数据与方法打包在对象中，隐藏内部实现。</li>
<li><strong>继承</strong>：子类可以继承父类的属性和方法，代码复用。</li>
<li><strong>多态</strong>：不同类的对象可以以统一方式调用同名方法（JavaScript中主要通过鸭子类型体现）。</li>
</ul>
<h3 id="【类与对象区别】"><a href="#【类与对象区别】" class="headerlink" title="【类与对象区别】"></a>【类与对象区别】</h3><table>
<thead>
<tr>
<th>分类</th>
<th>类（Class）</th>
<th>对象（Object）</th>
</tr>
</thead>
<tbody><tr>
<td>定义</td>
<td>模板、蓝图</td>
<td>类的具体实例</td>
</tr>
<tr>
<td>概念</td>
<td>定义属性和方法的抽象结构</td>
<td>通过类创建的实体</td>
</tr>
<tr>
<td>示例</td>
<td><code>class Person &#123;&#125;</code></td>
<td><code>let p = new Person()</code></td>
</tr>
<tr>
<td>关系</td>
<td>对象是由类实例化而来的</td>
<td>类是构造对象的基础</td>
</tr>
</tbody></table>
<ol>
<li>定义类</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> &#123;<br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name, age</span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;<br>  &#125;<br><br>  <span class="hljs-comment">// 实例方法</span><br>  <span class="hljs-title function_">sayHello</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Hello, I am <span class="hljs-subst">$&#123;<span class="hljs-variable language_">this</span>.name&#125;</span>`</span>);<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<ol start="2">
<li>创建对象</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> p1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&#x27;Alice&#x27;</span>, <span class="hljs-number">20</span>);<br>p1.<span class="hljs-title function_">sayHello</span>(); <span class="hljs-comment">// Hello, I am Alice</span><br></code></pre></td></tr></table></figure>

<p>javascript对象分为三类</p>
<ul>
<li>内建对象：<code>Object</code>,<code>String</code>,<code>Array</code>等</li>
<li>宿主对象：由浏览器提供的对象，如<code>BOM</code>，<code>DOM</code></li>
<li>自定义对象：由开发人员自己创建的对象</li>
</ul>
<h3 id="【类的属性和方法】"><a href="#【类的属性和方法】" class="headerlink" title="【类的属性和方法】"></a>【类的属性和方法】</h3><p>1.实例属性与方法（在 constructor 或类体中定义，属于对象）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> &#123;<br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name; <span class="hljs-comment">// 实例属性</span><br>  &#125;<br><br>  <span class="hljs-title function_">bark</span>(<span class="hljs-params"></span>) &#123; <span class="hljs-comment">// 实例方法</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">$&#123;<span class="hljs-variable language_">this</span>.name&#125;</span> says woof!`</span>);<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>2.静态属性与方法（用 static 关键字，属于类本身）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Tool</span> &#123;<br>  <span class="hljs-keyword">static</span> version = <span class="hljs-string">&#x27;1.0.0&#x27;</span>; <span class="hljs-comment">// 静态属性</span><br><br>  <span class="hljs-keyword">static</span> <span class="hljs-title function_">logInfo</span>(<span class="hljs-params"></span>) &#123; <span class="hljs-comment">// 静态方法</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Tool Version: <span class="hljs-subst">$&#123;Tool.version&#125;</span>`</span>);<br>  &#125;<br>&#125;<br><br><span class="hljs-title class_">Tool</span>.<span class="hljs-title function_">logInfo</span>();  <span class="hljs-comment">// Tool Version: 1.0.0</span><br></code></pre></td></tr></table></figure>

<h3 id="【类的封装】"><a href="#【类的封装】" class="headerlink" title="【类的封装】"></a>【类的封装】</h3><p>封装是面向对象编程的三大特性之一，指的是<strong>将对象的属性和方法包装在类中，并隐藏内部实现细节，仅暴露对外的操作接口</strong>。</p>
<p><strong>封装的目标</strong>：</p>
<ol>
<li><strong>隐藏实现细节</strong>，保护数据安全；</li>
<li><strong>限制外部直接访问对象属性</strong>；</li>
<li><strong>通过方法控制属性的读写权限和校验逻辑</strong>。</li>
</ol>
<p><strong>如何实现封装（JavaScript 中）</strong></p>
<ol>
<li>使用 <code>class</code> 定义类</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> &#123;<br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name, age</span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<hr>
<ol start="2">
<li>使用私有属性（<code>#</code>）</li>
</ol>
<blockquote>
<p>ES2022 引入的私有属性，语法是 <code>#属性名</code>，只能在类内部访问。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> &#123;<br>  #name;  <span class="hljs-comment">// 私有属性</span><br><br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) &#123;<br>    <span class="hljs-variable language_">this</span>.#name = name;<br>  &#125;<br><br>  <span class="hljs-title function_">sayHello</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Hi, I&#x27;m <span class="hljs-subst">$&#123;<span class="hljs-variable language_">this</span>.#name&#125;</span>`</span>);<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<ol start="3">
<li>提供 getter&#x2F;setter 方法（读写接口）</li>
</ol>
<p>方法式访问器（传统写法）：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">getName</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.#name;<br>&#125;<br><br><span class="hljs-title function_">setName</span>(<span class="hljs-params">name</span>) &#123;<br>  <span class="hljs-keyword">if</span> (name) <span class="hljs-variable language_">this</span>.#name = name;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>属性式访问器（现代写法）：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">get</span> <span class="hljs-title function_">name</span>() &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.#name;<br>&#125;<br><br><span class="hljs-keyword">set</span> <span class="hljs-title function_">name</span>(<span class="hljs-params">value</span>) &#123;<br>  <span class="hljs-keyword">if</span> (value.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) &#123;<br>    <span class="hljs-variable language_">this</span>.#name = value;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>使用示例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> p = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Tom&quot;</span>);<br>p.<span class="hljs-property">name</span> = <span class="hljs-string">&quot;Jerry&quot;</span>;     <span class="hljs-comment">// set</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(p.<span class="hljs-property">name</span>);  <span class="hljs-comment">// get</span><br></code></pre></td></tr></table></figure>

<p><strong>封装的好处</strong></p>
<table>
<thead>
<tr>
<th>好处</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>数据保护</td>
<td>防止外部随意修改属性值</td>
</tr>
<tr>
<td>控制访问</td>
<td>通过 <code>getter/setter</code> 控制属性读写权限</td>
</tr>
<tr>
<td>降低耦合</td>
<td>外部不关心内部实现，提高类的独立性</td>
</tr>
<tr>
<td>便于调试</td>
<td>可以在访问器中添加调试信息和断点</td>
</tr>
</tbody></table>
<h3 id="【类的多态】"><a href="#【类的多态】" class="headerlink" title="【类的多态】"></a>【类的多态】</h3><p>多态是面向对象三大特性之一，指的是<strong>相同的接口或方法作用于不同的对象时，表现出不同的行为</strong>。</p>
<ul>
<li>JavaScript <strong>不检查类型</strong>，只要对象有需要的属性或方法，就能被使用。</li>
<li>常用表达方式是：<strong>传入不同对象、执行相同操作，结果行为各异</strong>。</li>
</ul>
<p>1.JavaScript 不检查类型</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">sayHello</span>(<span class="hljs-params">obj</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Hello, &quot;</span> + obj.<span class="hljs-property">name</span>);<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> &#123;<br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> &#123;<br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>    &#125;<br>&#125;<br><br><span class="hljs-title function_">sayHello</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;悟空&quot;</span>)); <span class="hljs-comment">// Hello, 悟空</span><br><span class="hljs-title function_">sayHello</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Dog</span>(<span class="hljs-string">&quot;旺财&quot;</span>));    <span class="hljs-comment">// Hello, 旺财</span><br></code></pre></td></tr></table></figure>

<p>2.方法重写（Override）：在继承体系中，<strong>子类重写父类的方法</strong>，体现出不同的行为。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> &#123;<br>    <span class="hljs-title function_">speak</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;动物发出声音&quot;</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Animal</span> &#123;<br>    <span class="hljs-title function_">speak</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;狗叫：汪汪&quot;</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Cat</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Animal</span> &#123;<br>    <span class="hljs-title function_">speak</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;猫叫：喵喵&quot;</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">const</span> animals = [<span class="hljs-keyword">new</span> <span class="hljs-title class_">Dog</span>(), <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cat</span>()];<br><br>animals.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">animal</span> =&gt;</span> animal.<span class="hljs-title function_">speak</span>());<br></code></pre></td></tr></table></figure>

<ul>
<li>这就是通过<strong>同一个父类方法 <code>speak()</code>，由不同子类表现出不同行为</strong>，实现了<strong>经典的多态</strong>。</li>
</ul>
<p>3.函数参数多态（传入不同类型对象）:函数的参数可以是任何类型，这种特性让函数更通用。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">describe</span>(<span class="hljs-params">obj</span>) &#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> obj.<span class="hljs-property">describe</span> === <span class="hljs-string">&#x27;function&#x27;</span>) &#123;<br>        obj.<span class="hljs-title function_">describe</span>();<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;这个对象没有描述方法&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="【类的继承】"><a href="#【类的继承】" class="headerlink" title="【类的继承】"></a>【类的继承】</h3><p>继承是面向对象编程三大特性之一，是<strong>子类继承父类的属性和方法，从而实现代码复用和扩展功能</strong>的机制。</p>
<p><strong>JavaScript 中的继承实现方式（ES6+）</strong></p>
<p>1.使用 <code>extends</code> 关键字实现继承</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> &#123;<br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>  &#125;<br><br>  <span class="hljs-title function_">sayHello</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;动物在叫~&quot;</span>);<br>  &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Animal</span> &#123;<br>  <span class="hljs-title function_">sayHello</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;汪汪汪&quot;</span>);<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>2.<code>super</code> 的用法</p>
<table>
<thead>
<tr>
<th>场景</th>
<th>说明</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td><code>super(...)</code></td>
<td>子类构造函数中<strong>调用父类构造函数</strong>，必须写在第一行</td>
<td><code>super(name)</code></td>
</tr>
<tr>
<td><code>super.方法名()</code></td>
<td>在子类方法中调用<strong>父类的同名方法</strong></td>
<td><code>super.sayHello()</code></td>
</tr>
</tbody></table>
<p>3.示例（构造函数 + 方法）：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Cat</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Animal</span> &#123;<br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name, age</span>) &#123;<br>    <span class="hljs-variable language_">super</span>(name);      <span class="hljs-comment">// 调用父类构造函数</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;<br>  &#125;<br><br>  <span class="hljs-title function_">sayHello</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">super</span>.<span class="hljs-title function_">sayHello</span>(); <span class="hljs-comment">// 调用父类的方法</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;喵喵喵&quot;</span>);<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>4.方法重写（Override）</p>
<p>子类可以<strong>定义与父类同名的方法</strong>，用于覆盖父类的方法，实现多态行为。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Animal</span> &#123;<br>  <span class="hljs-title function_">sayHello</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;汪汪汪&quot;</span>);<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>构造函数继承注意事项</p>
<ul>
<li>如果<strong>子类定义了构造函数</strong>，必须在构造函数第一行调用 <code>super(...)</code>。</li>
<li>否则会报错：<code>ReferenceError: Must call super constructor in derived class before accessing &#39;this&#39;</code></li>
</ul>
<p><strong>继承的好处</strong></p>
<table>
<thead>
<tr>
<th>好处</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>代码复用</td>
<td>子类自动获得父类的属性和方法</td>
</tr>
<tr>
<td>易于维护</td>
<td>修改父类会自动影响所有子类</td>
</tr>
<tr>
<td>扩展能力强</td>
<td>子类可添加自己的属性或重写方法</td>
</tr>
<tr>
<td>遵守OCP</td>
<td>遵循开闭原则：对修改关闭，对扩展开放</td>
</tr>
</tbody></table>
<p><strong>关键点：</strong></p>
<table>
<thead>
<tr>
<th>概念</th>
<th>关键字</th>
<th>示例</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>继承</td>
<td><code>extends</code></td>
<td><code>class Dog extends Animal</code></td>
<td>让子类继承父类</td>
</tr>
<tr>
<td>调用父构造函数</td>
<td><code>super(...)</code></td>
<td><code>super(name)</code></td>
<td>子类构造函数中必须调用父类构造函数</td>
</tr>
<tr>
<td>调用父类方法</td>
<td><code>super.方法名()</code></td>
<td><code>super.sayHello()</code></td>
<td>子类中调用父类方法</td>
</tr>
<tr>
<td>方法重写</td>
<td>子类中定义与父类同名的方法</td>
<td><code>sayHello()</code></td>
<td>实现不同子类的特有行为（多态）</td>
</tr>
</tbody></table>
<h3 id="【原型对象】"><a href="#【原型对象】" class="headerlink" title="【原型对象】"></a>【原型对象】</h3><blockquote>
<p>每个对象都有一个内部属性 <code>[[Prototype]]</code>（通常访问为 <code>__proto__</code>），它指向另一个对象，这个对象称为“原型”。当访问对象的某个属性时，如果对象本身没有这个属性，则会去它的原型对象上查找，这就是“原型链查找”机制。原型本身也是对象，也有原型，因此构成一个原型链，直到最顶层<code>null</code>终止</p>
</blockquote>
<p><strong>1.查找顺序：</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js">obj = &#123;&#125;  <span class="hljs-comment">// obj = new Object()</span><br><span class="hljs-comment">// obj -&gt; obj.__proto__(Object.prototype) -&gt; null</span><br></code></pre></td></tr></table></figure>

<p><strong><font color="#008B8B">注意点：</font></strong></p>
<ul>
<li><code>obj</code> 的 <code>__proto__</code> 指向 <code>Object.prototype</code>。</li>
<li><code>Object.prototype</code> 是所有普通对象的顶层原型，<code>Object.prototype.__proto__ === null</code>。</li>
<li><code>Object</code>是所有对象的基类。</li>
<li>JS中继承就是通过原型来实现的，当继承时，子类的原型就是一个父类的<strong>实例</strong>，而所有类都默认继承<code>Object</code>基类。</li>
</ul>
<p><strong>2.类中的原型：</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//定义一个类</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> &#123;<br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name, age</span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age<br>  &#125;<br>  <span class="hljs-title function_">sayHello</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;hello&quot;</span>)<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li><code>Animal</code>默认继承<code>Object</code>基类，<code>Animal</code>的原型就是<code>Object</code>实例。</li>
<li>类的静态属性<code>prototype</code>和对象的属性<code>__proto__</code>作用相同，都是获取原型对象。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> === animal.<span class="hljs-property">__proto__</span> (<span class="hljs-title class_">Object</span>实例)<br><span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">__proto__</span> === animal.<span class="hljs-property">__proto__</span>.<span class="hljs-property">proto__</span> = <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span><br></code></pre></td></tr></table></figure>

<ul>
<li>原型就相当于是一个<strong>公共的区域</strong>，可以被所有该类实例访问,可以将该类实例中，所有的公共属性（方法）统一存储到原型中,这样我们只需要创建一个属性，即可被所有实例访问</li>
<li>对原型中的数据修改会影响所有包含该原型的对象实例。</li>
</ul>
<p><strong>3.对象结构</strong></p>
<p>对象中存储属性的区域实际有两个：对象自身和原型对象。</p>
<ol>
<li>直接通过对象所添加的属性，位于对象自身中，在类中通过 x &#x3D; y 的形式添加的属性，位于对象自身中。</li>
<li>在类中通过xxx(){}方式添加的方法和主动向原型中添加的属性或方法，位于原型中。</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br>  name = <span class="hljs-string">&#x27;Instance Property&#x27;</span>;<br><br>  <span class="hljs-comment">// 原型方法</span><br>  <span class="hljs-title function_">protoMethod</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;protoMethod this.name:&#x27;</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);<br>  &#125;<br><br>  <span class="hljs-comment">// 实例函数表达式</span><br>  funcExpr = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;funcExpr this.name:&#x27;</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);<br>  &#125;;<br><br>  <span class="hljs-comment">// 实例箭头函数</span><br>  arrowFunc = <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;arrowFunc this.name:&#x27;</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);<br>  &#125;;<br><br>  <span class="hljs-comment">// 静态方法</span><br>  <span class="hljs-keyword">static</span> <span class="hljs-title function_">staticMethod</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;staticMethod this.name:&#x27;</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>原型对象中的数据：</p>
<ol>
<li>对象中的数据（属性、方法等）</li>
<li>constructor （对象的构造函数）</li>
</ol>
<p><code>constructor</code>实际就是类，保存所有静态属性和方法。</p>
<img src="/2025/08/04/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/JavaScript%E6%A0%B8%E5%BF%83%E6%80%BB%E7%BB%93/image-20250802233313942.png" srcset="/img/loading.gif" lazyload class title="image-20250802233313942">

<p><strong>4.访问方式</strong></p>
<ol>
<li><code>Object.getPrototypeOf(obj)</code> 返回对象的原型。</li>
<li><code>obj.__proto__</code> 是非标准访问方式，现代建议使用 <code>Object.getPrototypeOf</code>。</li>
<li><code>obj.hasOwnProperty(prop)</code> 判断属性是否在对象自身上。</li>
<li><code>Object.hasOwn(obj, prop) </code>（推荐使用）判断属性是否在对象自身上。</li>
<li><code>prop in obj</code> 判断属性是否存在（自身或原型链）。</li>
<li><code>instanceof</code> 检查的是对象的原型链上是否有该类实例</li>
</ol>
<blockquote>
<p>不建议直接对原型对象数据进行修改。</p>
</blockquote>
<h3 id="【this-的指向】"><a href="#【this-的指向】" class="headerlink" title="【this 的指向】"></a>【this 的指向】</h3><p>对象中方法的定义位置不同。</p>
<ol>
<li><strong>原型方法（<code>method() &#123;&#125;</code>）</strong></li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br>  <span class="hljs-title function_">method</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;原型方法&#x27;</span>);<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>定义位置：类的原型上（<code>MyClass.prototype.method</code>）</li>
<li>不是在构造函数中定义的</li>
<li>所有实例共享</li>
<li>正常调用（如 <code>obj.protoMethod()</code>），<code>this</code> 指向实例</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> obj = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyClass</span>();<br>obj.<span class="hljs-title function_">protoMethod</span>(); <span class="hljs-comment">// this === obj </span><br><br><span class="hljs-keyword">const</span> f = obj.<span class="hljs-property">funcExpr</span>;<br><span class="hljs-title function_">f</span>(); <span class="hljs-comment">// this === undefined（在严格模式下） this === window （非严格模式下）</span><br></code></pre></td></tr></table></figure>

<ol start="2">
<li><strong>实例方法（字段定义：<code>method = function() &#123;&#125;</code> 或 <code>method = () =&gt; &#123;&#125;</code>）</strong></li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br>  method1 = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;函数表达式&#x27;</span>);<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li><p>定义位置：构造函数内部</p>
<blockquote>
<p>因为 JavaScript 会把这些“字段初始化器”转化为构造函数里的赋值语句</p>
</blockquote>
</li>
<li><p>每个实例一份，每次实例化的时候都会定义一次。</p>
</li>
<li><p><code>method2</code>（箭头函数）自动绑定 <code>this</code>，而 <code>method1</code> 不会</p>
</li>
<li><p><code>this</code>和原型方法一样。</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br>  method2 = <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;箭头函数&#x27;</span>);<br>  &#125;<br>&#125;<br><span class="hljs-comment">// 等价于</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br>    <span class="hljs-title function_">constructor</span> (<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">method2</span> = () = &gt;&#123;<br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;箭头函数&#x27;</span>);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>定义位置：构造函数内部</li>
<li>每个实例一份，每次实例化的时候都会定义一次。</li>
<li><code>method2</code>（箭头函数）自动绑定 <code>this</code>，</li>
<li><code>this</code>根据外作用域决定，也就是<code>constructor</code>， <code>this === 实例对象</code>，因此无论怎么调用，<code>this</code> 都不会变</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> obj = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyClass</span>();<br><span class="hljs-keyword">const</span> f = obj.<span class="hljs-property">arrowFunc</span>;<br><span class="hljs-title function_">f</span>(); <span class="hljs-comment">// this === obj（永远是实例）</span><br></code></pre></td></tr></table></figure>

<p><strong>3. 静态方法（<code>static method() &#123;&#125;</code>）</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br>  <span class="hljs-keyword">static</span> <span class="hljs-title function_">method</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;静态方法&#x27;</span>);<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>定义位置：类本身（<code>MyClass.method</code>），而不是实例或构造函数里，只定义一次。</li>
<li>不是在构造函数中定义的</li>
<li>只能通过类调用，不能通过实例调用，<code>MyClass.staticMethod()</code>，此时 <code>this === MyClass</code></li>
</ul>
<table>
<thead>
<tr>
<th>方法类型</th>
<th>记忆口诀</th>
</tr>
</thead>
<tbody><tr>
<td>原型方法</td>
<td>谁调用我，我的 <code>this</code> 就是谁</td>
</tr>
<tr>
<td>实例函数表达式</td>
<td>和原型方法一样</td>
</tr>
<tr>
<td>箭头函数</td>
<td>定义时绑定 <code>this</code>，永不改变</td>
</tr>
<tr>
<td>静态方法</td>
<td>类调用它，<code>this</code> 是类对象</td>
</tr>
</tbody></table>
<h2 id="JavaScript-数组"><a href="#JavaScript-数组" class="headerlink" title="JavaScript 数组"></a>JavaScript 数组</h2><h3 id="【数组常用方法】"><a href="#【数组常用方法】" class="headerlink" title="【数组常用方法】"></a>【数组常用方法】</h3><ul>
<li><p><strong>Array.from()</strong><br>将类数组或 iterable 转为真正的数组  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">&#x27;abc&#x27;</span>); <span class="hljs-comment">// [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]</span><br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>Array.isArray()</strong><br>判断是否为数组  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]); <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>Array.of()</strong><br>使用参数创建新数组  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Array</span>.<span class="hljs-title function_">of</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>); <span class="hljs-comment">// [1, 2, 3]</span><br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>concat()</strong><br>合并数组，返回新数组  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>].<span class="hljs-title function_">concat</span>([<span class="hljs-number">3</span>, <span class="hljs-number">4</span>]); <span class="hljs-comment">// [1, 2, 3, 4]</span><br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>copyWithin(target, start, end?)</strong><br>把一部分复制到另一部分（修改原数组）  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>].<span class="hljs-title function_">copyWithin</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>); <span class="hljs-comment">// [1, 3, 4, 4]</span><br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>every(callback)</strong><br>所有元素都满足条件返回 <code>true</code>  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">[<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>].<span class="hljs-title function_">every</span>(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x % <span class="hljs-number">2</span> === <span class="hljs-number">0</span>); <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>entries()</strong><br>返回键值对迭代器  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> [i, val] <span class="hljs-keyword">of</span> [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>].<span class="hljs-title function_">entries</span>()) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(i, val); <span class="hljs-comment">// 0 &#x27;a&#x27;, 1 &#x27;b&#x27;</span><br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>fill(value, start?, end?)</strong><br>用固定值填充（修改原数组）  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>].<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>); <span class="hljs-comment">// [0, 0, 0]</span><br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>filter(callback)</strong><br>过滤符合条件的元素  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>].<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x % <span class="hljs-number">2</span> === <span class="hljs-number">0</span>); <span class="hljs-comment">// [2, 4]</span><br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>find(callback)</strong><br>找到第一个满足条件的元素  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>].<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x &gt; <span class="hljs-number">1</span>); <span class="hljs-comment">// 2</span><br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>findIndex(callback)</strong><br>找到第一个满足条件元素的索引  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>].<span class="hljs-title function_">findIndex</span>(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x === <span class="hljs-number">2</span>); <span class="hljs-comment">// 1</span><br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>flat(depth?)</strong><br>扁平化数组（默认一层）  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">[<span class="hljs-number">1</span>, [<span class="hljs-number">2</span>, [<span class="hljs-number">3</span>]]].<span class="hljs-title function_">flat</span>(); <span class="hljs-comment">// [1, 2, [3]]</span><br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>flatMap(callback)</strong><br>类似 <code>map().flat()</code>，返回新数组  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>].<span class="hljs-title function_">flatMap</span>(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> [x, x * <span class="hljs-number">2</span>]); <span class="hljs-comment">// [1, 2, 2, 4]</span><br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>forEach(callback)</strong><br>遍历元素（无返回值）  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>].<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(x))<br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>includes(value)</strong><br>判断数组是否包含某个值  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>].<span class="hljs-title function_">includes</span>(<span class="hljs-number">2</span>); <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>indexOf(value, from?)</strong><br>找元素的首次索引  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>].<span class="hljs-title function_">indexOf</span>(<span class="hljs-number">2</span>); <span class="hljs-comment">// 1</span><br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>join(separator?)</strong><br>将数组转换为字符串  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>].<span class="hljs-title function_">join</span>(<span class="hljs-string">&#x27;-&#x27;</span>); <span class="hljs-comment">// &quot;1-2-3&quot;</span><br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>lastIndexOf(value)</strong><br>找元素最后一次出现的索引  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>].<span class="hljs-title function_">lastIndexOf</span>(<span class="hljs-number">2</span>); <span class="hljs-comment">// 3</span><br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>length</strong><br>数组长度（也可设置）  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br>arr.<span class="hljs-property">length</span> = <span class="hljs-number">2</span>; <span class="hljs-comment">// arr = [1, 2]</span><br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>map(callback)</strong><br>转换每个元素，返回新数组  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>].<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x * <span class="hljs-number">2</span>); <span class="hljs-comment">// [2, 4, 6]</span><br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>pop()</strong><br>移除最后一个元素  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br>arr.<span class="hljs-title function_">pop</span>(); <span class="hljs-comment">// 3, arr = [1, 2]</span><br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>push(…items)</strong><br>末尾添加元素  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>];<br>arr.<span class="hljs-title function_">push</span>(<span class="hljs-number">3</span>); <span class="hljs-comment">// arr = [1, 2, 3]</span><br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>reduce(callback, initialValue)</strong><br>从左到右聚合数组  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>].<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a + b, <span class="hljs-number">0</span>); <span class="hljs-comment">// 6</span><br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>reduceRight(callback, initialValue)</strong><br>从右到左聚合数组  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>].<span class="hljs-title function_">reduceRight</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a + b); <span class="hljs-comment">// &quot;cba&quot;</span><br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>reverse()</strong><br>反转数组顺序（修改原数组）  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>].<span class="hljs-title function_">reverse</span>(); <span class="hljs-comment">// [3, 2, 1]</span><br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>shift()</strong><br>删除开头元素  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br>arr.<span class="hljs-title function_">shift</span>(); <span class="hljs-comment">// 1, arr = [2, 3]</span><br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>slice(start, end?)</strong><br>截取片段，不修改原数组  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>].<span class="hljs-title function_">slice</span>(<span class="hljs-number">1</span>); <span class="hljs-comment">// [2, 3]</span><br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>some(callback)</strong><br>至少有一个满足条件  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>].<span class="hljs-title function_">some</span>(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x &gt; <span class="hljs-number">2</span>); <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>sort(compareFn?)</strong><br>排序数组（修改原数组）  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">[<span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>].<span class="hljs-title function_">sort</span>(); <span class="hljs-comment">// [1, 2, 3]</span><br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>splice(start, deleteCount, …items)</strong><br>删除&#x2F;替换&#x2F;添加（修改原数组）  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br>arr.<span class="hljs-title function_">splice</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">9</span>); <span class="hljs-comment">// arr = [1, 9, 3]</span><br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>toString()</strong><br>转换为字符串  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>].<span class="hljs-title function_">toString</span>(); <span class="hljs-comment">// &quot;1,2,3&quot;</span><br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>unshift(…items)</strong><br>开头添加元素  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br>arr.<span class="hljs-title function_">unshift</span>(<span class="hljs-number">1</span>); <span class="hljs-comment">// arr = [1, 2, 3]</span><br></code></pre></td></tr></table></figure></li>
</ul>
<p>不修改原数组</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">/**</span><br><span class="hljs-comment">at()</span><br><span class="hljs-comment">    - 可以根据索引获取数组中的指定元素</span><br><span class="hljs-comment">    - at可以接收负索引作为参数</span><br><span class="hljs-comment">concat()</span><br><span class="hljs-comment">    - 用来连接两个或多个数组</span><br><span class="hljs-comment">    - 非破坏性方法，不会影响原数组，而是返回一个新的数组</span><br><span class="hljs-comment">indexOf()</span><br><span class="hljs-comment">    - 获取元素在数组中第一次出现的索引</span><br><span class="hljs-comment">    - 参数：</span><br><span class="hljs-comment">        1. 要查询的元素</span><br><span class="hljs-comment">        2. 查询的其实位置</span><br><span class="hljs-comment">lastIndexOf()</span><br><span class="hljs-comment">    - 获取元素在数组中最后一次出现的位置</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">    - 返回值：</span><br><span class="hljs-comment">        找到了则返回元素的索引，</span><br><span class="hljs-comment">        没有找到返回-1</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">join()</span><br><span class="hljs-comment">    - 将一个数组中的元素连接为一个字符串</span><br><span class="hljs-comment">    - [&quot;孙悟空&quot;, &quot;猪八戒&quot;, &quot;沙和尚&quot;, &quot;唐僧&quot;, &quot;沙和尚&quot;] -&gt; &quot;孙悟空,猪八戒,沙和尚,唐僧,沙和尚&quot;</span><br><span class="hljs-comment">    - 参数：</span><br><span class="hljs-comment">        指定一个字符串作为连接符</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">slice()</span><br><span class="hljs-comment">    - 用来截取数组（非破坏性方法）     </span><br><span class="hljs-comment">    - 参数：</span><br><span class="hljs-comment">        1. 截取的起始位置（包括该位置）</span><br><span class="hljs-comment">        2. 截取的结束位置（不包括该位置）   </span><br><span class="hljs-comment">            - 第二个参数可以省略不写，如果省略则会一直截取到最后</span><br><span class="hljs-comment">            - 索引可以是负值</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">        如果将两个参数全都省略，则可以对数组进行浅拷贝（浅复制）</span><br><span class="hljs-comment">**/</span><br></code></pre></td></tr></table></figure>

<p>修改原数组</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">/**</span><br><span class="hljs-comment">push()</span><br><span class="hljs-comment">    - 向数组的末尾添加一个或多个元素，并返回新的长度</span><br><span class="hljs-comment">pop()</span><br><span class="hljs-comment">    - 删除并返回数组的最后一个元素</span><br><span class="hljs-comment">unshift()</span><br><span class="hljs-comment">    - 向数组的开头添加一个或多个元素，并返回新的长度</span><br><span class="hljs-comment">shift()</span><br><span class="hljs-comment">    - 删除并返回数组的第一个元素</span><br><span class="hljs-comment">splice()</span><br><span class="hljs-comment">    - 可以删除、插入、替换数组中的元素</span><br><span class="hljs-comment">    - 参数：</span><br><span class="hljs-comment">        1. 删除的起始位置</span><br><span class="hljs-comment">        2. 删除的数量</span><br><span class="hljs-comment">        3. 要插入的元素</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">    - 返回值：</span><br><span class="hljs-comment">        - 返回被删除的元素</span><br><span class="hljs-comment">reverse()</span><br><span class="hljs-comment">    - 反转数组</span><br><span class="hljs-comment">**/</span><br><br><span class="hljs-keyword">let</span> result = arr.<span class="hljs-title function_">push</span>(<span class="hljs-string">&quot;唐僧&quot;</span>, <span class="hljs-string">&quot;白骨精&quot;</span>)<br><br><span class="hljs-comment">// console.log(arr)</span><br><br>result = arr.<span class="hljs-title function_">pop</span>()<br>arr.<span class="hljs-title function_">unshift</span>(<span class="hljs-string">&quot;牛魔王&quot;</span>)<br>arr.<span class="hljs-title function_">shift</span>()<br><br><span class="hljs-comment">// console.log(arr)</span><br><br>arr = [<span class="hljs-string">&quot;孙悟空&quot;</span>, <span class="hljs-string">&quot;猪八戒&quot;</span>, <span class="hljs-string">&quot;沙和尚&quot;</span>, <span class="hljs-string">&quot;唐僧&quot;</span>]<br><span class="hljs-comment">// result = arr.splice(1, 3)</span><br><span class="hljs-comment">// result = arr.splice(1, 1, &quot;牛魔王&quot;, &quot;铁扇公主&quot;, &quot;红孩儿&quot;)</span><br>result = arr.<span class="hljs-title function_">splice</span>(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-string">&quot;牛魔王&quot;</span>, <span class="hljs-string">&quot;铁扇公主&quot;</span>, <span class="hljs-string">&quot;红孩儿&quot;</span>)<br><br><span class="hljs-comment">// console.log(result)</span><br><span class="hljs-comment">// console.log(arr)</span><br><br>arr = [<span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-string">&quot;b&quot;</span>, <span class="hljs-string">&quot;c&quot;</span>, <span class="hljs-string">&quot;d&quot;</span>]<br>arr.<span class="hljs-title function_">reverse</span>()<br></code></pre></td></tr></table></figure>

<p>数组内置的高阶函数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">/**</span><br><span class="hljs-comment">sort()</span><br><span class="hljs-comment">    - sort用来对数组进行排序（会对改变原数组）</span><br><span class="hljs-comment">    - sort默认会将数组升序排列</span><br><span class="hljs-comment">        注意：sort默认会按照Unicode编码进行排序，所以如果直接通过sort对数字进行排序</span><br><span class="hljs-comment">            可能会得到一个不正确的结果</span><br><span class="hljs-comment">    - 参数：</span><br><span class="hljs-comment">        - 可以传递一个回调函数作为参数，通过回调函数来指定排序规则</span><br><span class="hljs-comment">            (a, b) =&gt; a - b 升序排列</span><br><span class="hljs-comment">            (a, b) =&gt; b - a 降序排列</span><br><span class="hljs-comment">forEach()</span><br><span class="hljs-comment">    - 用来遍历数组</span><br><span class="hljs-comment">    - 它需要一个回调函数作为参数，这个回调函数会被调用多次</span><br><span class="hljs-comment">        数组中有几个元素，回调函数就会调用几次</span><br><span class="hljs-comment">        每次调用，都会将数组中的数据作为参数传递</span><br><span class="hljs-comment">    - 回调函数中有三个参数：</span><br><span class="hljs-comment">        element 当前的元素</span><br><span class="hljs-comment">        index 当前元素的索引</span><br><span class="hljs-comment">        array 被遍历的数组</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">filter()</span><br><span class="hljs-comment">    - 将数组中符合条件的元素保存到一个新数组中返回</span><br><span class="hljs-comment">    - 需要一个回调函数作为参数，会为每一个元素去调用回调函数，并根据返回值来决定是否将元素添加到新数组中</span><br><span class="hljs-comment">    - 非破坏性方法，不会影响原数组</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">map()</span><br><span class="hljs-comment">    - 根据当前数组生成一个新数组</span><br><span class="hljs-comment">    - 需要一个回调函数作为参数，</span><br><span class="hljs-comment">        回调函数的返回值会成为新数组中的元素</span><br><span class="hljs-comment">    - 非破坏性方法不会影响原数组</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">reduce()</span><br><span class="hljs-comment">    - 可以用来将一个数组中的所有元素整合为一个值</span><br><span class="hljs-comment">    - 参数：</span><br><span class="hljs-comment">        1. 回调函数，通过回调函数来指定合并的规则</span><br><span class="hljs-comment">        2. 可选参数，初始值</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">**/</span><br><br><span class="hljs-comment">// arr.sort()</span><br>arr.<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a - b)<br>arr.<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> b - a)<br><br><span class="hljs-comment">// console.log(arr)</span><br><br>arr = [<span class="hljs-string">&quot;孙悟空&quot;</span>, <span class="hljs-string">&quot;猪八戒&quot;</span>, <span class="hljs-string">&quot;沙和尚&quot;</span>, <span class="hljs-string">&quot;唐僧&quot;</span>]<br><br><span class="hljs-comment">// arr.forEach((element, index, array) =&gt; &#123;</span><br><span class="hljs-comment">//     console.log(array)</span><br><span class="hljs-comment">// &#125;)</span><br><br><span class="hljs-comment">// arr.forEach((element, index) =&gt; console.log(index, element))</span><br><br>arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>]<br><br><span class="hljs-comment">// 获取数组中的所有偶数</span><br><span class="hljs-keyword">let</span> result = arr.<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">ele</span>) =&gt;</span> ele &gt; <span class="hljs-number">5</span>)<br><br>result = arr.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">ele</span>) =&gt;</span> ele * <span class="hljs-number">2</span>)<br><br>arr = [<span class="hljs-string">&quot;孙悟空&quot;</span>, <span class="hljs-string">&quot;猪八戒&quot;</span>, <span class="hljs-string">&quot;沙和尚&quot;</span>]<br><br>result = arr.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">ele</span>) =&gt;</span> <span class="hljs-string">&quot;&lt;li&gt;&quot;</span> + ele + <span class="hljs-string">&quot;&lt;/li&gt;&quot;</span>)<br><br>arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>]<br><br>result = arr.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">/* </span><br><span class="hljs-comment">        1, 2</span><br><span class="hljs-comment">        3, 3</span><br><span class="hljs-comment">        6, 4</span><br><span class="hljs-comment">        10, 5</span><br><span class="hljs-comment">    </span><br><span class="hljs-comment">    */</span><br>    <span class="hljs-comment">// console.log(a, b)</span><br><br>    <span class="hljs-keyword">return</span> a * b<br>&#125;)<br><br><span class="hljs-comment">// result = arr.reduce((a, b) =&gt; a + b, 10)</span><br><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result)<br></code></pre></td></tr></table></figure>



<h3 id="【浅复制与深复制】"><a href="#【浅复制与深复制】" class="headerlink" title="【浅复制与深复制】"></a>【浅复制与深复制】</h3><p><strong>浅拷贝（shallow copy）</strong>通常对对象的拷贝都是浅拷贝对象的浅层进行复制（只复制一层）如果对象中存储的数据是原始值，那么拷贝的深浅是不重要进行复制，不会复制对象中的属性（或元素）</p>
<p><strong>数组复制方法：</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, &#123; <span class="hljs-attr">a</span>: <span class="hljs-number">3</span> &#125;];<br><br><span class="hljs-comment">// 1. 使用 slice</span><br><span class="hljs-keyword">const</span> copy1 = arr.<span class="hljs-title function_">slice</span>();<br><br><span class="hljs-comment">// 2. 使用 concat</span><br><span class="hljs-keyword">const</span> copy2 = [].<span class="hljs-title function_">concat</span>(arr);<br><br><span class="hljs-comment">// 3. 使用展开运算符</span><br><span class="hljs-keyword">const</span> copy3 = [...arr];<br><br><span class="hljs-comment">// 修改嵌套对象会影响原始数组</span><br>copy1[<span class="hljs-number">2</span>].<span class="hljs-property">a</span> = <span class="hljs-number">100</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr[<span class="hljs-number">2</span>].<span class="hljs-property">a</span>); <span class="hljs-comment">// 100</span><br></code></pre></td></tr></table></figure>

<p><strong>对象复制方法：</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> obj = &#123; <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">b</span>: &#123; <span class="hljs-attr">c</span>: <span class="hljs-number">2</span> &#125; &#125;;<br><br><span class="hljs-comment">// 1. Object.assign</span><br><span class="hljs-keyword">const</span> shallowCopy1 = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(&#123;&#125;, obj);<br><br><span class="hljs-comment">// 2. 展开运算符</span><br><span class="hljs-keyword">const</span> shallowCopy2 = &#123; ...obj &#125;;<br><br><span class="hljs-comment">// 修改嵌套对象会影响原对象</span><br>shallowCopy1.<span class="hljs-property">b</span>.<span class="hljs-property">c</span> = <span class="hljs-number">99</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-property">b</span>.<span class="hljs-property">c</span>); <span class="hljs-comment">// 99</span><br></code></pre></td></tr></table></figure>

<blockquote>
<p>… (展开运算符):可以将一个数组中的元素展开到另一个数组中或者作为函数的参数传递，最常用的浅复制方法。</p>
</blockquote>
<p><strong>深拷贝（deep copy）</strong>深拷贝指不仅复制对象本身，还复制对象中的属性和元素，因为性能问题，通常情况不太使用深拷贝</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> clone = <span class="hljs-title function_">structuredClone</span>(value);<br></code></pre></td></tr></table></figure>

<h1 id="JavaScript进阶"><a href="#JavaScript进阶" class="headerlink" title="JavaScript进阶"></a>JavaScript进阶</h1><h2 id="解构赋值"><a href="#解构赋值" class="headerlink" title="解构赋值"></a>解构赋值</h2><p>解构赋值是一种从<strong>数组或对象中提取数据</strong>并快速赋值给变量的语法糖，它让代码更简洁、结构更清晰，尤其适合函数参数、数据提取等场景。</p>
<h3 id="【数组解构赋值】"><a href="#【数组解构赋值】" class="headerlink" title="【数组解构赋值】"></a>【数组解构赋值】</h3><p> 基本语法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>];<br><span class="hljs-keyword">const</span> [a, b, c] = arr;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a, b, c); <span class="hljs-comment">// 10 20 30</span><br></code></pre></td></tr></table></figure>

<p> 可跳过元素</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> [first, , third] = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(first, third); <span class="hljs-comment">// 1 3</span><br></code></pre></td></tr></table></figure>

<p> 设置默认值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> [a = <span class="hljs-number">100</span>, b = <span class="hljs-number">200</span>] = [<span class="hljs-number">10</span>];<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a, b); <span class="hljs-comment">// 10 200</span><br></code></pre></td></tr></table></figure>

<p>与 <code>rest</code> 参数结合</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> [head, ...rest] = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>];<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(head); <span class="hljs-comment">// 1</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(rest); <span class="hljs-comment">// [2, 3, 4]</span><br></code></pre></td></tr></table></figure>

<h3 id="【对象解构赋值】"><a href="#【对象解构赋值】" class="headerlink" title="【对象解构赋值】"></a>【对象解构赋值】</h3><p>基本语法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> obj = &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Alice&#x27;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">25</span> &#125;;<br><span class="hljs-keyword">const</span> &#123; name, age &#125; = obj;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(name, age); <span class="hljs-comment">// Alice 25</span><br></code></pre></td></tr></table></figure>

<p>重命名变量</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> &#123; <span class="hljs-attr">name</span>: userName &#125; = obj;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(userName); <span class="hljs-comment">// Alice</span><br></code></pre></td></tr></table></figure>

<p>默认值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> &#123; gender = <span class="hljs-string">&#x27;unknown&#x27;</span> &#125; = obj;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(gender); <span class="hljs-comment">// unknown</span><br></code></pre></td></tr></table></figure>

<h3 id="【函数参数解构】"><a href="#【函数参数解构】" class="headerlink" title="【函数参数解构】"></a>【函数参数解构】</h3><p>对象参数解构</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">greet</span>(<span class="hljs-params">&#123; name, age &#125;</span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Hello, <span class="hljs-subst">$&#123;name&#125;</span>. You are <span class="hljs-subst">$&#123;age&#125;</span>.`</span>);<br>&#125;<br><br><span class="hljs-title function_">greet</span>(&#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Bob&#x27;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">30</span> &#125;);<br><span class="hljs-comment">// 输出：Hello, Bob. You are 30.</span><br></code></pre></td></tr></table></figure>

<p>数组参数解构</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">sum</span>(<span class="hljs-params">[a, b]</span>) &#123;<br>  <span class="hljs-keyword">return</span> a + b;<br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">sum</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>])); <span class="hljs-comment">// 3</span><br></code></pre></td></tr></table></figure>

<h3 id="【嵌套解构】"><a href="#【嵌套解构】" class="headerlink" title="【嵌套解构】"></a>【嵌套解构】</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> user = &#123;<br>  <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>,<br>  <span class="hljs-attr">profile</span>: &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Tom&#x27;</span>,<br>    <span class="hljs-attr">contacts</span>: &#123;<br>      <span class="hljs-attr">email</span>: <span class="hljs-string">&#x27;tom@example.com&#x27;</span><br>    &#125;<br>  &#125;<br>&#125;;<br><br><span class="hljs-keyword">const</span> &#123;<br>  <span class="hljs-attr">profile</span>: &#123;<br>    <span class="hljs-attr">contacts</span>: &#123; email &#125;<br>  &#125;<br>&#125; = user;<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(email); <span class="hljs-comment">// tom@example.com</span><br></code></pre></td></tr></table></figure>

<h3 id="【常见用途】"><a href="#【常见用途】" class="headerlink" title="【常见用途】"></a>【常见用途】</h3><p>快速交换变量值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> a = <span class="hljs-number">1</span>, b = <span class="hljs-number">2</span>;<br>[a, b] = [b, a];<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a, b); <span class="hljs-comment">// 2 1</span><br></code></pre></td></tr></table></figure>

<p>快速提取 API 返回值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> &#123; data, code, message &#125; = <span class="hljs-keyword">await</span> axios.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/api/info&#x27;</span>);<br></code></pre></td></tr></table></figure>

<p>在 Vue&#x2F;React 中提取 props</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> props = <span class="hljs-title function_">defineProps</span>([<span class="hljs-string">&#x27;title&#x27;</span>, <span class="hljs-string">&#x27;count&#x27;</span>]);<br><span class="hljs-keyword">const</span> &#123; title, count &#125; = props;<br></code></pre></td></tr></table></figure>

<h2 id="对象的序列化"><a href="#对象的序列化" class="headerlink" title="对象的序列化"></a>对象的序列化</h2><p><strong>对象序列化（Serialization）就是将 JavaScript 中的对象转换成可以存储或传输</strong>的格式（通常是字符串），最常见的是 <strong>JSON 字符串</strong>。</p>
<h3 id="【序列和反序列化】"><a href="#【序列和反序列化】" class="headerlink" title="【序列和反序列化】"></a>【序列和反序列化】</h3><p>常用的序列化方式：<code>JSON.stringify</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(value, replacer, space)<br></code></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td><code>value</code></td>
<td>要序列化的对象</td>
</tr>
<tr>
<td><code>replacer</code></td>
<td>可选，<strong>函数或数组</strong>，用于定制序列化过程</td>
</tr>
<tr>
<td><code>space</code></td>
<td>可选，格式化缩进用的空格数（调试时常用）</td>
</tr>
</tbody></table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> obj = &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;Alice&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">25</span> &#125;;<br><span class="hljs-keyword">const</span> jsonStr = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(obj);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(jsonStr); <span class="hljs-comment">// &#x27;&#123;&quot;name&quot;:&quot;Alice&quot;,&quot;age&quot;:25&#125;&#x27;</span><br></code></pre></td></tr></table></figure>

<p> 反序列化：<code>JSON.parse</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> str = <span class="hljs-string">&#x27;&#123;&quot;name&quot;:&quot;Alice&quot;,&quot;age&quot;:25&#125;&#x27;</span>;<br><span class="hljs-keyword">const</span> parsed = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(str);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(parsed.<span class="hljs-property">name</span>); <span class="hljs-comment">// Alice</span><br></code></pre></td></tr></table></figure>

<p><code>JSON.stringify()</code> 的一些特点和陷阱</p>
<p><font color="#409eff"> 支持：</font></p>
<ul>
<li>数字、字符串、布尔值、数组、对象</li>
<li><code>null</code></li>
</ul>
<p><font color="#409eff">不支持或被忽略：</font></p>
<table>
<thead>
<tr>
<th>数据类型</th>
<th>序列化结果</th>
</tr>
</thead>
<tbody><tr>
<td><code>undefined</code></td>
<td>被忽略</td>
</tr>
<tr>
<td><code>function</code></td>
<td>被忽略</td>
</tr>
<tr>
<td><code>symbol</code></td>
<td>被忽略</td>
</tr>
<tr>
<td>循环引用</td>
<td>会报错</td>
</tr>
<tr>
<td>BigInt</td>
<td>会报错（<code>TypeError</code>）</td>
</tr>
</tbody></table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> obj = &#123;<br>  <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>,<br>  <span class="hljs-attr">b</span>: <span class="hljs-literal">undefined</span>,<br>  <span class="hljs-attr">c</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;&#125;,<br>  <span class="hljs-attr">d</span>: <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">&quot;x&quot;</span>)<br>&#125;;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(obj)); <span class="hljs-comment">// &#123;&quot;a&quot;:1&#125;</span><br></code></pre></td></tr></table></figure>

<h3 id="【序列化进阶用法】"><a href="#【序列化进阶用法】" class="headerlink" title="【序列化进阶用法】"></a>【序列化进阶用法】</h3><p>1.自定义序列化（toJSON 方法）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> user = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Tom&#x27;</span>,<br>  <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>,<br>  <span class="hljs-title function_">toJSON</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> &#123; <span class="hljs-attr">userName</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> &#125;;<br>  &#125;<br>&#125;;<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(user)); <span class="hljs-comment">// &#123;&quot;userName&quot;:&quot;Tom&quot;&#125;</span><br></code></pre></td></tr></table></figure>

<p>2.使用 replacer（过滤或转换字段）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> obj = &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Tom&#x27;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">18</span> &#125;;<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(obj, [<span class="hljs-string">&#x27;name&#x27;</span>])); <span class="hljs-comment">// &#123;&quot;name&quot;:&quot;Tom&quot;&#125;</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(obj, <span class="hljs-function">(<span class="hljs-params">key, value</span>) =&gt;</span><br>  <span class="hljs-keyword">typeof</span> value === <span class="hljs-string">&#x27;number&#x27;</span> ? <span class="hljs-literal">undefined</span> : value<br>)); <span class="hljs-comment">// &#123;&quot;name&quot;:&quot;Tom&quot;&#125;</span><br></code></pre></td></tr></table></figure>

<h3 id="【常见用途】-1"><a href="#【常见用途】-1" class="headerlink" title="【常见用途】"></a>【常见用途】</h3><blockquote>
<p>对象转换为字符串后，可以将字符串在不同的语言之间进行传递</p>
</blockquote>
<table>
<thead>
<tr>
<th>应用场景</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td>浏览器存储</td>
<td><code>localStorage.setItem(&#39;user&#39;, JSON.stringify(obj))</code></td>
</tr>
<tr>
<td>数据传输</td>
<td>axios、fetch POST 时发送 JSON 字符串</td>
</tr>
<tr>
<td>深拷贝（有局限）</td>
<td><code>const newObj = JSON.parse(JSON.stringify(obj))</code></td>
</tr>
<tr>
<td>日志输出</td>
<td><code>console.log(JSON.stringify(error))</code></td>
</tr>
</tbody></table>
<h3 id="【手动编写JSON字符串】"><a href="#【手动编写JSON字符串】" class="headerlink" title="【手动编写JSON字符串】"></a>【手动编写JSON字符串】</h3><p>也可以手动的编写JSON字符串，在很多程序的配置文件就是使用JSON编写的</p>
<p>编写JSON的注意事项：</p>
<ol>
<li>JSON字符串有两种类型：JSON对象 <code>&#123;&#125;</code> &#x2F; JSON数组 <code>[]</code></li>
<li>JSON字符串的属性名必须使用双引号引起来</li>
<li>JSON中可以使用的属性值（元素）<ul>
<li>数字（Number）</li>
<li>字符串（String） 必须使用双引号</li>
<li>布尔值（Boolean）</li>
<li>空值（Null）</li>
<li>对象（Object {}）</li>
<li>数组（Array []）</li>
</ul>
</li>
<li>JSON的格式和JS对象的格式基本上一致的，<br>注意：JSON字符串如果属性是最后一个，则不要再加<code>,</code></li>
</ol>
<h2 id="Map"><a href="#Map" class="headerlink" title="Map"></a><code>Map</code></h2><p><code>Map</code> 是 ES6 引入的一种新的数据结构，用于存储<strong>键值对</strong>。</p>
<blockquote>
<p>与普通对象不同的是，<code>Map</code> 的键可以是<strong>任何类型的值</strong>（包括对象、函数等）。</p>
</blockquote>
<h3 id="【Map与Object的区别】"><a href="#【Map与Object的区别】" class="headerlink" title="【Map与Object的区别】"></a>【<code>Map</code>与<code>Object</code>的区别】</h3><table>
<thead>
<tr>
<th>特性</th>
<th><code>Map</code></th>
<th><code>Object</code></th>
</tr>
</thead>
<tbody><tr>
<td>键的类型</td>
<td>任意类型（对象、函数等）</td>
<td>只能是字符串或 Symbol。其他类型的属性会自动转换字符串，</td>
</tr>
<tr>
<td>键的顺序</td>
<td><strong>有序</strong>（按插入顺序）</td>
<td>无序（某些实现可能有顺序）</td>
</tr>
<tr>
<td>遍历</td>
<td><code>map.forEach()</code>、<code>for...of</code>、<code>entries()</code></td>
<td><code>for...in</code>、<code>Object.keys()</code> 等</td>
</tr>
<tr>
<td>默认属性干扰</td>
<td>无（原型是 <code>null</code>）</td>
<td>有，继承自 <code>Object.prototype</code></td>
</tr>
<tr>
<td>性能</td>
<td>更适合频繁增删查操作</td>
<td>较适合静态结构的对象数据</td>
</tr>
</tbody></table>
<h3 id="【Map常见用法】"><a href="#【Map常见用法】" class="headerlink" title="【Map常见用法】"></a>【<code>Map</code>常见用法】</h3><table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>set(key, value)</code></td>
<td>设置键值对</td>
</tr>
<tr>
<td><code>get(key)</code></td>
<td>获取指定键的值</td>
</tr>
<tr>
<td><code>has(key)</code></td>
<td>判断键是否存在</td>
</tr>
<tr>
<td><code>delete(key)</code></td>
<td>删除指定键</td>
</tr>
<tr>
<td><code>clear()</code></td>
<td>清空 Map</td>
</tr>
<tr>
<td><code>size</code></td>
<td>获取键值对数量</td>
</tr>
<tr>
<td><code>keys()</code></td>
<td>返回所有键的迭代器</td>
</tr>
<tr>
<td><code>values()</code></td>
<td>返回所有值的迭代器</td>
</tr>
<tr>
<td><code>entries()</code></td>
<td>返回所有键值对的迭代器</td>
</tr>
<tr>
<td><code>forEach(cb)</code></td>
<td>遍历每个键值对</td>
</tr>
</tbody></table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();<br><br><span class="hljs-comment">// 设置键值对</span><br>map.<span class="hljs-title function_">set</span>(<span class="hljs-string">&#x27;name&#x27;</span>, <span class="hljs-string">&#x27;Alice&#x27;</span>);<br>map.<span class="hljs-title function_">set</span>(<span class="hljs-number">42</span>, <span class="hljs-string">&#x27;numberKey&#x27;</span>);<br>map.<span class="hljs-title function_">set</span>(&#123; <span class="hljs-attr">id</span>: <span class="hljs-number">1</span> &#125;, <span class="hljs-string">&#x27;objectKey&#x27;</span>);<br><br><span class="hljs-comment">// 获取值</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(map.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;name&#x27;</span>)); <span class="hljs-comment">// Alice</span><br><br><span class="hljs-comment">// 检查是否存在键</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(map.<span class="hljs-title function_">has</span>(<span class="hljs-number">42</span>)); <span class="hljs-comment">// true</span><br><br><span class="hljs-comment">// 删除键</span><br>map.<span class="hljs-title function_">delete</span>(<span class="hljs-string">&#x27;name&#x27;</span>);<br><br><span class="hljs-comment">// 清空所有键值对</span><br>map.<span class="hljs-title function_">clear</span>();<br></code></pre></td></tr></table></figure>

<p>遍历方法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>([<br>  [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-number">1</span>],<br>  [<span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-number">2</span>],<br>  [<span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-number">3</span>]<br>]);<br><br><span class="hljs-comment">// for...of 遍历键值对</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> [key, value] <span class="hljs-keyword">of</span> map) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(key, value);<br>&#125;<br><br><span class="hljs-comment">// 遍历 keys</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> key <span class="hljs-keyword">of</span> map.<span class="hljs-title function_">keys</span>()) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;key:&#x27;</span>, key);<br>&#125;<br><br><span class="hljs-comment">// 遍历 values</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> value <span class="hljs-keyword">of</span> map.<span class="hljs-title function_">values</span>()) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;value:&#x27;</span>, value);<br>&#125;<br><br><span class="hljs-comment">// forEach 遍历</span><br>map.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">value, key</span>) =&gt;</span> &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">$&#123;key&#125;</span> = <span class="hljs-subst">$&#123;value&#125;</span>`</span>);<br>&#125;);<br></code></pre></td></tr></table></figure>

<h3 id="【Map转换成数组】"><a href="#【Map转换成数组】" class="headerlink" title="【Map转换成数组】"></a>【<code>Map</code>转换成数组】</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> arr = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(map) <span class="hljs-comment">// [[&quot;name&quot;,&quot;孙悟空&quot;],[&quot;age&quot;,18]]</span><br><span class="hljs-keyword">const</span> arr = [...map]<br><br><span class="hljs-comment">// 数组转成Map，直接创建Map</span><br><span class="hljs-keyword">const</span> map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>([<br>  [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-number">1</span>],<br>  [<span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-number">2</span>],<br>  [<span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-number">3</span>]<br>]);<br></code></pre></td></tr></table></figure>

<h2 id="Set"><a href="#Set" class="headerlink" title="Set"></a><code>Set</code></h2><p><code>Set</code> 是一个<strong>无重复值的集合</strong>。它类似数组，但每个值只能出现一次，且值的顺序按插入顺序保存。</p>
<h3 id="【Set和Array的区别】"><a href="#【Set和Array的区别】" class="headerlink" title="【Set和Array的区别】"></a>【<code>Set</code>和<code>Array</code>的区别】</h3><table>
<thead>
<tr>
<th>特性</th>
<th><code>Set</code></th>
<th><code>Array</code></th>
</tr>
</thead>
<tbody><tr>
<td>是否允许重复值</td>
<td>❌ 不允许</td>
<td>✅ 允许</td>
</tr>
<tr>
<td>是否有序</td>
<td>✅ 插入顺序保留</td>
<td>✅ 有序</td>
</tr>
<tr>
<td>索引访问</td>
<td>❌ 不支持下标</td>
<td>✅ 支持</td>
</tr>
<tr>
<td>是否可迭代</td>
<td>✅</td>
<td>✅</td>
</tr>
</tbody></table>
<h3 id="【Set常见用法】"><a href="#【Set常见用法】" class="headerlink" title="【Set常见用法】"></a>【<code>Set</code>常见用法】</h3><table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>add(value)</code></td>
<td>添加元素</td>
</tr>
<tr>
<td><code>delete(value)</code></td>
<td>删除元素</td>
</tr>
<tr>
<td><code>has(value)</code></td>
<td>是否存在</td>
</tr>
<tr>
<td><code>clear()</code></td>
<td>清空集合</td>
</tr>
<tr>
<td><code>size</code></td>
<td>元素数量</td>
</tr>
<tr>
<td><code>forEach(cb)</code></td>
<td>遍历集合</td>
</tr>
<tr>
<td><code>[...set]</code></td>
<td>转为数组</td>
</tr>
</tbody></table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> set = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>();<br><br><span class="hljs-comment">// 添加元素</span><br>set.<span class="hljs-title function_">add</span>(<span class="hljs-number">1</span>);<br>set.<span class="hljs-title function_">add</span>(<span class="hljs-number">2</span>);<br>set.<span class="hljs-title function_">add</span>(<span class="hljs-number">2</span>); <span class="hljs-comment">// 重复的不会添加</span><br>set.<span class="hljs-title function_">add</span>(<span class="hljs-string">&#x27;hello&#x27;</span>);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(set); <span class="hljs-comment">// Set(3) &#123;1, 2, &#x27;hello&#x27;&#125;</span><br><br><span class="hljs-comment">// 判断是否存在</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(set.<span class="hljs-title function_">has</span>(<span class="hljs-number">1</span>)); <span class="hljs-comment">// true</span><br><br><span class="hljs-comment">// 删除元素</span><br>set.<span class="hljs-title function_">delete</span>(<span class="hljs-number">2</span>);<br><br><span class="hljs-comment">// 获取长度</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(set.<span class="hljs-property">size</span>); <span class="hljs-comment">// 2</span><br><br><span class="hljs-comment">// 清空集合</span><br>set.<span class="hljs-title function_">clear</span>();<br><br><span class="hljs-keyword">const</span> set = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>]);<br><br><span class="hljs-comment">// for...of</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> item <span class="hljs-keyword">of</span> set) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(item);<br>&#125;<br><br><span class="hljs-comment">// forEach</span><br>set.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(item));<br><br><span class="hljs-comment">// 转成数组</span><br><span class="hljs-keyword">const</span> arr = [...set]; <span class="hljs-comment">// [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]</span><br><br></code></pre></td></tr></table></figure>

<h3 id="【常见用途】-2"><a href="#【常见用途】-2" class="headerlink" title="【常见用途】"></a>【常见用途】</h3><ol>
<li>数组去重</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>];<br><span class="hljs-keyword">const</span> uniqueArr = [...<span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(arr)];<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(uniqueArr); <span class="hljs-comment">// [1, 2, 3, 4]</span><br></code></pre></td></tr></table></figure>

<ol start="2">
<li>求交集</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> set1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]);<br><span class="hljs-keyword">const</span> set2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]);<br><br><span class="hljs-keyword">const</span> intersection = [...set1].<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> set2.<span class="hljs-title function_">has</span>(x));<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(intersection); <span class="hljs-comment">// [2, 3]</span><br></code></pre></td></tr></table></figure>

<ol start="3">
<li>求差集</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> diff = [...set1].<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> !set2.<span class="hljs-title function_">has</span>(x));<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(diff); <span class="hljs-comment">// [1]</span><br></code></pre></td></tr></table></figure>

<h2 id="Math"><a href="#Math" class="headerlink" title="Math"></a><code>Math</code></h2><p>JavaScript 中的 <code>Math</code> 是一个内置对象，提供了各种<strong>数学运算相关的常用方法和常量</strong>，可以帮助我们进行取整、取绝对值、三角函数、指数、对数等计算。</p>
<h3 id="【取整相关】"><a href="#【取整相关】" class="headerlink" title="【取整相关】"></a>【取整相关】</h3><table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td><code>Math.floor()</code></td>
<td>向下取整</td>
<td><code>Math.floor(4.7)</code> → <code>4</code></td>
</tr>
<tr>
<td><code>Math.ceil()</code></td>
<td>向上取整</td>
<td><code>Math.ceil(4.1)</code> → <code>5</code></td>
</tr>
<tr>
<td><code>Math.round()</code></td>
<td>四舍五入</td>
<td><code>Math.round(4.5)</code> → <code>5</code></td>
</tr>
<tr>
<td><code>Math.trunc()</code></td>
<td>去除小数部分（ES6）</td>
<td><code>Math.trunc(4.9)</code> → <code>4</code></td>
</tr>
</tbody></table>
<h3 id="【数值处理】"><a href="#【数值处理】" class="headerlink" title="【数值处理】"></a>【数值处理】</h3><table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td><code>Math.abs(x)</code></td>
<td>绝对值</td>
<td><code>Math.abs(-3)</code> → <code>3</code></td>
</tr>
<tr>
<td><code>Math.max(...args)</code></td>
<td>最大值</td>
<td><code>Math.max(1, 5, 3)</code> → <code>5</code></td>
</tr>
<tr>
<td><code>Math.min(...args)</code></td>
<td>最小值</td>
<td><code>Math.min(1, 5, 3)</code> → <code>1</code></td>
</tr>
<tr>
<td><code>Math.pow(x, y)</code></td>
<td>幂运算</td>
<td><code>Math.pow(2, 3)</code> → <code>8</code></td>
</tr>
<tr>
<td><code>Math.sqrt(x)</code></td>
<td>平方根</td>
<td><code>Math.sqrt(9)</code> → <code>3</code></td>
</tr>
<tr>
<td><code>Math.cbrt(x)</code></td>
<td>立方根</td>
<td><code>Math.cbrt(8)</code> → <code>2</code></td>
</tr>
</tbody></table>
<h3 id="【随机数】"><a href="#【随机数】" class="headerlink" title="【随机数】"></a>【随机数】</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>(); <span class="hljs-comment">// 返回 0 ~ 1 之间的随机小数（不包括1）</span><br></code></pre></td></tr></table></figure>

<p>示例：生成 1~10 的随机整数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> n = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">10</span>) + <span class="hljs-number">1</span>;<br></code></pre></td></tr></table></figure>

<h3 id="【三角函数】"><a href="#【三角函数】" class="headerlink" title="【三角函数】"></a>【三角函数】</h3><table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>Math.sin(x)</code></td>
<td>正弦（x 是弧度）</td>
</tr>
<tr>
<td><code>Math.cos(x)</code></td>
<td>余弦</td>
</tr>
<tr>
<td><code>Math.tan(x)</code></td>
<td>正切</td>
</tr>
<tr>
<td><code>Math.asin(x)</code></td>
<td>反正弦</td>
</tr>
<tr>
<td><code>Math.acos(x)</code></td>
<td>反余弦</td>
</tr>
<tr>
<td><code>Math.atan(x)</code></td>
<td>反正切</td>
</tr>
</tbody></table>
<h3 id="【对数与指数】"><a href="#【对数与指数】" class="headerlink" title="【对数与指数】"></a>【对数与指数】</h3><table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>Math.log(x)</code></td>
<td>自然对数（以 e 为底）</td>
</tr>
<tr>
<td><code>Math.log10(x)</code></td>
<td>以 10 为底的对数（ES6）</td>
</tr>
<tr>
<td><code>Math.exp(x)</code></td>
<td>e 的 x 次幂</td>
</tr>
</tbody></table>
<h3 id="【常用-Math-常量】"><a href="#【常用-Math-常量】" class="headerlink" title="【常用 Math 常量】"></a>【常用 Math 常量】</h3><table>
<thead>
<tr>
<th>常量</th>
<th>值</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td><code>Math.PI</code></td>
<td>3.14159…</td>
<td>圆周率</td>
</tr>
<tr>
<td><code>Math.E</code></td>
<td>2.71828…</td>
<td>自然对数底数</td>
</tr>
<tr>
<td><code>Math.SQRT2</code></td>
<td>√2</td>
<td></td>
</tr>
<tr>
<td><code>Math.SQRT1_2</code></td>
<td>√(1&#x2F;2)</td>
<td></td>
</tr>
<tr>
<td><code>Math.LN2</code></td>
<td>ln(2)</td>
<td></td>
</tr>
<tr>
<td><code>Math.LN10</code></td>
<td>ln(10)</td>
<td></td>
</tr>
</tbody></table>
<h2 id="Date"><a href="#Date" class="headerlink" title="Date"></a><code>Date</code></h2><blockquote>
<p><code>Date</code> 是 JavaScript 中处理<strong>时间与日期的核心类</strong>，可以创建、格式化、比较和操作时间值。</p>
</blockquote>
<h3 id="【创建-Date-实例的方式】"><a href="#【创建-Date-实例的方式】" class="headerlink" title="【创建 Date 实例的方式】"></a>【创建 <code>Date</code> 实例的方式】</h3><p>获取当前时间</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> now = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(now); <span class="hljs-comment">// 当前本地时间</span><br></code></pre></td></tr></table></figure>

<p>通过时间字符串</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> date1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">&quot;2025-08-04T10:00:00&quot;</span>);<br><span class="hljs-keyword">const</span> date1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">&quot;08/04/2025 10:00:00&quot;</span>);<br></code></pre></td></tr></table></figure>

<p>通过参数（年, 月, 日, 时, 分, 秒, 毫秒）</p>
<blockquote>
<p>注意：月从 0 开始（0 &#x3D; 一月）</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> date2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-number">2025</span>, <span class="hljs-number">7</span>, <span class="hljs-number">4</span>, <span class="hljs-number">10</span>, <span class="hljs-number">30</span>); <span class="hljs-comment">// 2025年8月4日10:30</span><br></code></pre></td></tr></table></figure>

<p>通过时间戳（1970 年以来的毫秒数）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> date3 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-number">1691136000000</span>); <span class="hljs-comment">// 指定时间戳</span><br></code></pre></td></tr></table></figure>

<h3 id="【常用方法】"><a href="#【常用方法】" class="headerlink" title="【常用方法】"></a>【常用方法】</h3><p>获取时间信息</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>含义</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td><code>getFullYear()</code></td>
<td>获取年</td>
<td><code>date.getFullYear()</code></td>
</tr>
<tr>
<td><code>getMonth()</code></td>
<td>获取月（0-11）</td>
<td><code>date.getMonth()</code></td>
</tr>
<tr>
<td><code>getDate()</code></td>
<td>获取日（1-31）</td>
<td><code>date.getDate()</code></td>
</tr>
<tr>
<td><code>getDay()</code></td>
<td>获取星期几（0 &#x3D; 周日）</td>
<td><code>date.getDay()</code></td>
</tr>
<tr>
<td><code>getHours()</code></td>
<td>获取小时（0-23）</td>
<td><code>date.getHours()</code></td>
</tr>
<tr>
<td><code>getMinutes()</code></td>
<td>获取分钟</td>
<td><code>date.getMinutes()</code></td>
</tr>
<tr>
<td><code>getSeconds()</code></td>
<td>获取秒</td>
<td><code>date.getSeconds()</code></td>
</tr>
<tr>
<td><code>getMilliseconds()</code></td>
<td>毫秒</td>
<td><code>date.getMilliseconds()</code></td>
</tr>
<tr>
<td><code>getTime()</code></td>
<td>时间戳（1970 至今的毫秒数）</td>
<td><code>date.getTime()</code></td>
</tr>
</tbody></table>
<p>设置时间信息</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>setFullYear(y)</code></td>
<td>设置年份</td>
</tr>
<tr>
<td><code>setMonth(m)</code></td>
<td>设置月份（0-11）</td>
</tr>
<tr>
<td><code>setDate(d)</code></td>
<td>设置日期（1-31）</td>
</tr>
<tr>
<td><code>setHours(h)</code></td>
<td>设置小时（0-23）</td>
</tr>
<tr>
<td><code>setMinutes(min)</code></td>
<td>设置分钟</td>
</tr>
<tr>
<td><code>setSeconds(s)</code></td>
<td>设置秒</td>
</tr>
<tr>
<td><code>setTime(ms)</code></td>
<td>设置时间戳</td>
</tr>
</tbody></table>
<p><code>Date.now()</code> 获取当前的时间戳</p>
<h3 id="【格式化输出】"><a href="#【格式化输出】" class="headerlink" title="【格式化输出】"></a>【格式化输出】</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> date = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-number">2025</span>, <span class="hljs-number">7</span>, <span class="hljs-number">4</span>, <span class="hljs-number">10</span>, <span class="hljs-number">5</span>);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(date.<span class="hljs-title function_">toString</span>());        <span class="hljs-comment">// 本地完整时间字符串</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(date.<span class="hljs-title function_">toDateString</span>());    <span class="hljs-comment">// 仅日期部分</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(date.<span class="hljs-title function_">toTimeString</span>());    <span class="hljs-comment">// 仅时间部分</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(date.<span class="hljs-title function_">toISOString</span>());     <span class="hljs-comment">// ISO 标准时间（常用于后端传参）</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(date.<span class="hljs-title function_">toLocaleString</span>());  <span class="hljs-comment">// 本地格式日期+时间字符串</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(date.<span class="hljs-title function_">toLocaleDateString</span>());  <span class="hljs-comment">// 本地格式日期字符串</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(date.<span class="hljs-title function_">toLocaleTimeString</span>());  <span class="hljs-comment">// 本地格式时间字符串</span><br><br><span class="hljs-comment">/* </span><br><span class="hljs-comment">toLocaleString()</span><br><span class="hljs-comment">    - 可以将一个日期转换为本地时间格式的字符串</span><br><span class="hljs-comment">    - 参数：</span><br><span class="hljs-comment">        1. 描述语言和国家信息的字符串</span><br><span class="hljs-comment">            zh-CN 中文中国</span><br><span class="hljs-comment">            zh-HK 中文香港</span><br><span class="hljs-comment">            en-US 英文美国</span><br><span class="hljs-comment">        2. 需要一个对象作为参数，在对象中可以通过对象的属性来对日期的格式进行配置</span><br><span class="hljs-comment">                dateStyle 日期的风格</span><br><span class="hljs-comment">                timeStyle 时间的风格</span><br><span class="hljs-comment">                    full</span><br><span class="hljs-comment">                    long</span><br><span class="hljs-comment">                    medium</span><br><span class="hljs-comment">                    short</span><br><span class="hljs-comment">                hour12 是否采用12小时值</span><br><span class="hljs-comment">                    true</span><br><span class="hljs-comment">                    false</span><br><span class="hljs-comment">                weekday 星期的显示方式</span><br><span class="hljs-comment">                    long</span><br><span class="hljs-comment">                    short</span><br><span class="hljs-comment">                    narrow</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">                year</span><br><span class="hljs-comment">                    numeric</span><br><span class="hljs-comment">                    2-digit </span><br><span class="hljs-comment">*/</span><br>result = d.<span class="hljs-title function_">toLocaleString</span>(<span class="hljs-string">&quot;zh-CN&quot;</span>, &#123;<br>    <span class="hljs-attr">year</span>: <span class="hljs-string">&quot;numeric&quot;</span>,<br>    <span class="hljs-attr">month</span>: <span class="hljs-string">&quot;long&quot;</span>,<br>    <span class="hljs-attr">day</span>: <span class="hljs-string">&quot;2-digit&quot;</span>,<br>    <span class="hljs-attr">weekday</span>: <span class="hljs-string">&quot;short&quot;</span>,<br>&#125;)<br></code></pre></td></tr></table></figure>



<h2 id="包装类"><a href="#包装类" class="headerlink" title="包装类"></a>包装类</h2><p>JavaScript 的<strong>包装类</strong>是对<strong>基本数据类型</strong>（如 <code>string</code>、<code>number</code>、<code>boolean</code>）的<strong>对象封装</strong>，让它们可以像对象一样调用方法。</p>
<h3 id="【包装类定义】"><a href="#【包装类定义】" class="headerlink" title="【包装类定义】"></a>【包装类定义】</h3><p>包装类包括：</p>
<table>
<thead>
<tr>
<th>基本类型</th>
<th>包装类</th>
</tr>
</thead>
<tbody><tr>
<td><code>string</code></td>
<td><code>String</code></td>
</tr>
<tr>
<td><code>number</code></td>
<td><code>Number</code></td>
</tr>
<tr>
<td><code>boolean</code></td>
<td><code>Boolean</code></td>
</tr>
</tbody></table>
<p>还有一些不太常见的包装类：</p>
<table>
<thead>
<tr>
<th>类型</th>
<th>包装类</th>
</tr>
</thead>
<tbody><tr>
<td><code>symbol</code></td>
<td><code>Symbol</code>（本身是对象）</td>
</tr>
<tr>
<td><code>bigint</code></td>
<td><code>BigInt</code>（本身是对象）</td>
</tr>
<tr>
<td><code>null/undefined</code></td>
<td>没有包装类</td>
</tr>
</tbody></table>
<p>为什么需要包装类？</p>
<p>虽然像 <code>&quot;abc&quot;</code> 是字符串字面量，但我们可以写：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-string">&quot;abc&quot;</span>.<span class="hljs-title function_">toUpperCase</span>(); <span class="hljs-comment">// &quot;ABC&quot;</span><br></code></pre></td></tr></table></figure>

<p>这是因为 JavaScript 在背后自动进行了<strong>临时装箱（装入包装类对象）</strong>：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 实际发生的过程（等效于）：</span><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">&quot;abc&quot;</span>).<span class="hljs-title function_">toUpperCase</span>();<br></code></pre></td></tr></table></figure>

<blockquote>
<p><strong>执行完后，临时对象立即销毁</strong>。</p>
</blockquote>
<p>手动使用包装类，虽然我们通常<strong>不需要手动 new 包装类对象</strong>，但你可以这么做：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> strObj = <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">&quot;hello&quot;</span>);<br><span class="hljs-keyword">const</span> numObj = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Number</span>(<span class="hljs-number">123</span>);<br><span class="hljs-keyword">const</span> boolObj = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Boolean</span>(<span class="hljs-literal">false</span>);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> strObj); <span class="hljs-comment">// object</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> numObj); <span class="hljs-comment">// object</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> boolObj); <span class="hljs-comment">// object</span><br></code></pre></td></tr></table></figure>

<blockquote>
<p>注意：这会变成真正的对象，和原始类型不再相等：因此包装类通常不要手动创建，而是解释器隐式使用。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> <span class="hljs-string">&quot;abc&quot;</span>);         <span class="hljs-comment">// string</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>());  <span class="hljs-comment">// object</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;abc&quot;</span> === <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">&quot;abc&quot;</span>)); <span class="hljs-comment">// ❌ false</span><br></code></pre></td></tr></table></figure>

<h3 id="【String-包装类】"><a href="#【String-包装类】" class="headerlink" title="【String 包装类】"></a>【<code>String</code> 包装类】</h3><p>字符串其本质就是一个字符数组，<font color="#409eff">数组很多方法字符串都可以通用的</font>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> s = <span class="hljs-string">&quot;hello&quot;</span>; <span class="hljs-comment">//&quot;hello&quot; --&gt; [&quot;h&quot;, &quot;e&quot;, &quot;l&quot;, &quot;l&quot;, &quot;o&quot;]</span><br>s.<span class="hljs-title function_">toUpperCase</span>();       <span class="hljs-comment">// &quot;HELLO&quot;</span><br>s.<span class="hljs-title function_">includes</span>(<span class="hljs-string">&quot;he&quot;</span>);      <span class="hljs-comment">// true</span><br>s.<span class="hljs-title function_">charAt</span>(<span class="hljs-number">1</span>);           <span class="hljs-comment">// &quot;e&quot;</span><br>s.<span class="hljs-title function_">replace</span>(<span class="hljs-string">&quot;l&quot;</span>, <span class="hljs-string">&quot;x&quot;</span>);   <span class="hljs-comment">// &quot;hexlo&quot;</span><br>s.<span class="hljs-property">length</span>;              <span class="hljs-comment">// 5</span><br></code></pre></td></tr></table></figure>

<ul>
<li><p><strong><code>charAt(index)</code></strong><br>获取指定索引处的字符。<br><code>&quot;hello&quot;.charAt(1)</code> → <code>&quot;e&quot;</code></p>
</li>
<li><p><strong><code>charCodeAt(index)</code></strong><br>获取指定字符的 UTF-16 编码（十进制）。<br><code>&quot;ABC&quot;.charCodeAt(0)</code> → <code>65</code></p>
</li>
<li><p><strong><code>concat(str1, str2, ...)</code></strong><br>拼接多个字符串（等效于 <code>+</code>）。<br><code>&quot;Hello&quot;.concat(&quot; &quot;, &quot;World&quot;)</code> → <code>&quot;Hello World&quot;</code></p>
</li>
<li><p><strong><code>endsWith(searchString[, length])</code></strong><br>判断字符串是否以某个子串结尾。<br><code>&quot;test.js&quot;.endsWith(&quot;.js&quot;)</code> → <code>true</code></p>
</li>
<li><p><strong><code>includes(searchString[, position])</code></strong><br>判断是否包含某个子串。<br><code>&quot;hello world&quot;.includes(&quot;world&quot;)</code> → <code>true</code></p>
</li>
<li><p><strong><code>indexOf(searchValue[, fromIndex])</code></strong><br>返回子串首次出现的位置，找不到返回 <code>-1</code>。<br><code>&quot;banana&quot;.indexOf(&quot;a&quot;)</code> → <code>1</code></p>
</li>
<li><p><strong><code>lastIndexOf(searchValue[, fromIndex])</code></strong><br>返回子串最后一次出现的位置。<br><code>&quot;banana&quot;.lastIndexOf(&quot;a&quot;)</code> → <code>5</code></p>
</li>
<li><p><strong><code>match(regex)</code></strong><br>根据正则表达式匹配内容，返回数组或 <code>null</code>。<br><code>&quot;abc123&quot;.match(/\d+/)</code> → <code>[&quot;123&quot;]</code></p>
</li>
<li><p><strong><code>matchAll(regex)</code></strong><br>返回所有正则匹配（需加 <code>g</code>），返回迭代器。<br><code>[...(&quot;a1b2&quot;.matchAll(/\d/g))]</code> → <code>[[&quot;1&quot;], [&quot;2&quot;]]</code></p>
</li>
<li><p><strong><code>normalize([form])</code></strong><br>Unicode 正规化（用于特殊字符对比）。<br><code>&quot;é&quot;.normalize(&quot;NFD&quot;)</code></p>
</li>
<li><p><strong><code>padEnd(targetLength[, padString])</code></strong><br>在字符串末尾补全到指定长度。<br><code>&quot;5&quot;.padEnd(3, &quot;0&quot;)</code> → <code>&quot;500&quot;</code></p>
</li>
<li><p><strong><code>padStart(targetLength[, padString])</code></strong><br>在字符串开头补全到指定长度。<br><code>&quot;5&quot;.padStart(3, &quot;0&quot;)</code> → <code>&quot;005&quot;</code></p>
</li>
<li><p><strong><code>repeat(count)</code></strong><br>返回重复多次的字符串。<br><code>&quot;ha&quot;.repeat(3)</code> → <code>&quot;hahaha&quot;</code></p>
</li>
<li><p><strong><code>replace(searchValue, replaceValue)</code></strong><br>替换匹配的子串。<br><code>&quot;foo123&quot;.replace(/\d+/, &quot;***&quot;)</code> → <code>&quot;foo***&quot;</code></p>
</li>
<li><p><strong><code>replaceAll(searchValue, replaceValue)</code></strong><br>替换<strong>所有</strong>匹配项（ES2021）。<br><code>&quot;a-b-c&quot;.replaceAll(&quot;-&quot;, &quot;_&quot;)</code> → <code>&quot;a_b_c&quot;</code></p>
</li>
<li><p><strong><code>search(regex)</code></strong><br>返回正则首次匹配的索引。<br><code>&quot;abc123&quot;.search(/\d/)</code> → <code>3</code></p>
</li>
<li><p><strong><code>slice(start[, end])</code></strong><br>截取字符串的一部分（不修改原字符串）。<br><code>&quot;abcdef&quot;.slice(1, 4)</code> → <code>&quot;bcd&quot;</code></p>
</li>
<li><p><strong><code>split(separator[, limit])</code></strong><br>按分隔符拆分为数组。<br><code>&quot;a,b,c&quot;.split(&quot;,&quot;)</code> → <code>[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]</code></p>
</li>
<li><p><strong><code>startsWith(searchString[, position])</code></strong><br>判断字符串是否以指定子串开始。<br><code>&quot;hello&quot;.startsWith(&quot;he&quot;)</code> → <code>true</code></p>
</li>
<li><p><strong><code>substring(start[, end])</code></strong><br>提取从 <code>start</code> 到 <code>end</code> 之间的子串。<br><code>&quot;abcdef&quot;.substring(2, 5)</code> → <code>&quot;cde&quot;</code></p>
</li>
<li><p><strong><code>toLowerCase()</code></strong><br>转换为小写字母。<br><code>&quot;HeLLo&quot;.toLowerCase()</code> → <code>&quot;hello&quot;</code></p>
</li>
<li><p><strong><code>toUpperCase()</code></strong><br>转换为大写字母。<br><code>&quot;HeLLo&quot;.toUpperCase()</code> → <code>&quot;HELLO&quot;</code></p>
</li>
<li><p><strong><code>trim()</code></strong><br>去除首尾空白字符。<br><code>&quot;  hello  &quot;.trim()</code> → <code>&quot;hello&quot;</code></p>
</li>
<li><p><strong><code>trimStart()</code> &#x2F; <code>trimLeft()</code></strong><br>去除开头空白。<br><code>&quot;  hi&quot;.trimStart()</code> → <code>&quot;hi&quot;</code></p>
</li>
<li><p><strong><code>trimEnd()</code> &#x2F; <code>trimRight()</code></strong><br>去除结尾空白。<br><code>&quot;hi  &quot;.trimEnd()</code> → <code>&quot;hi&quot;</code></p>
</li>
<li><p><strong><code>valueOf()</code></strong><br>返回原始字符串值（用于隐式类型转换）。<br><code>&quot;abc&quot;.valueOf()</code> → <code>&quot;abc&quot;</code></p>
</li>
</ul>
<h3 id="【Number-包装类】"><a href="#【Number-包装类】" class="headerlink" title="【Number 包装类】"></a>【<code>Number</code> 包装类】</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> n = <span class="hljs-number">123.456</span>;<br>n.<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">2</span>);          <span class="hljs-comment">// &quot;123.46&quot;</span><br>n.<span class="hljs-title function_">toString</span>(<span class="hljs-number">2</span>);         <span class="hljs-comment">// &quot;1111011&quot;（转为二进制）</span><br></code></pre></td></tr></table></figure>

<h3 id="【Boolean-包装类】"><a href="#【Boolean-包装类】" class="headerlink" title="【Boolean 包装类】"></a>【<code>Boolean</code> 包装类】</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Boolean</span>(<span class="hljs-number">0</span>);            <span class="hljs-comment">// false</span><br><span class="hljs-title class_">Boolean</span>(<span class="hljs-string">&quot;hello&quot;</span>);      <span class="hljs-comment">// true</span><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Boolean</span>(<span class="hljs-number">0</span>);        <span class="hljs-comment">// 是对象，始终为 truthy！</span><br></code></pre></td></tr></table></figure>

<h2 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h2><p>正则表达式（Regular Expression）是一种用来描述字符串<strong>匹配规则</strong>的工具，本质是<strong>匹配模式</strong>，可用来检索和替换文本。也是一个对象。格式是<code>/正则/匹配模式</code></p>
<h3 id="【创建方式】"><a href="#【创建方式】" class="headerlink" title="【创建方式】"></a>【创建方式】</h3><p>方式 1：使用字面量（常用）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> regex = <span class="hljs-regexp">/abc\d/i</span>;<br></code></pre></td></tr></table></figure>

<p>方式 2：使用 <code>RegExp</code> 构造函数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> regex = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">&#x27;abc\\d&#x27;</span>,<span class="hljs-string">&#x27;i&#x27;</span>);<br></code></pre></td></tr></table></figure>

<h3 id="【匹配规则】"><a href="#【匹配规则】" class="headerlink" title="【匹配规则】"></a>【匹配规则】</h3><table>
<thead>
<tr>
<th>字符</th>
<th>含义</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td><code>.</code></td>
<td>任意单个字符（除换行）</td>
<td><code>/a.b/</code> 匹配 <code>a+b</code>, <code>a-b</code></td>
</tr>
<tr>
<td><code>\d</code></td>
<td>一个数字（0-9）</td>
<td><code>/\d/</code> 匹配 <code>&quot;3&quot;</code></td>
</tr>
<tr>
<td><code>\w</code></td>
<td>单词字符（字母、数字、下划线）</td>
<td><code>/\w/</code> 匹配 <code>&quot;a&quot;</code>, <code>&quot;5&quot;</code></td>
</tr>
<tr>
<td><code>\s</code></td>
<td>空白字符（空格、换行、制表）</td>
<td><code>/\s/</code></td>
</tr>
<tr>
<td><code>\D</code></td>
<td>非数字</td>
<td><code>/\D/</code></td>
</tr>
<tr>
<td><code>\W</code></td>
<td>非单词字符</td>
<td><code>/\W/</code></td>
</tr>
<tr>
<td><code>\S</code></td>
<td>非空白字符</td>
<td><code>/\S/</code></td>
</tr>
</tbody></table>
<h3 id="【量词（重复次数）】"><a href="#【量词（重复次数）】" class="headerlink" title="【量词（重复次数）】"></a>【量词（重复次数）】</h3><table>
<thead>
<tr>
<th>量词</th>
<th>含义</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td><code>*</code></td>
<td>0 次或多次</td>
<td><code>/a*/</code> 匹配 <code>&quot;&quot;</code>, <code>&quot;a&quot;</code>, <code>&quot;aaa&quot;</code></td>
</tr>
<tr>
<td><code>+</code></td>
<td>1 次或多次</td>
<td><code>/a+/</code> 匹配 <code>&quot;a&quot;</code>, <code>&quot;aaa&quot;</code></td>
</tr>
<tr>
<td><code>?</code></td>
<td>0 次或 1 次</td>
<td><code>/a?/</code> 匹配 <code>&quot;&quot;</code>, <code>&quot;a&quot;</code></td>
</tr>
<tr>
<td><code>&#123;n&#125;</code></td>
<td>恰好 n 次</td>
<td><code>/a&#123;3&#125;/</code> 匹配 <code>&quot;aaa&quot;</code></td>
</tr>
<tr>
<td><code>&#123;n,&#125;</code></td>
<td>至少 n 次</td>
<td><code>/a&#123;2,&#125;/</code> 匹配 <code>&quot;aa&quot;</code>, <code>&quot;aaaa&quot;</code></td>
</tr>
<tr>
<td><code>&#123;n,m&#125;</code></td>
<td>n 到 m 次</td>
<td><code>/a&#123;2,4&#125;/</code> 匹配 <code>&quot;aa&quot;</code>, <code>&quot;aaa&quot;</code></td>
</tr>
</tbody></table>
<h3 id="【字符集合与分组】"><a href="#【字符集合与分组】" class="headerlink" title="【字符集合与分组】"></a>【字符集合与分组】</h3><table>
<thead>
<tr>
<th>语法</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td><code>[abc]</code></td>
<td>匹配 a 或 b 或 c 中的任意一个</td>
</tr>
<tr>
<td><code>[^abc]</code></td>
<td>除了 a&#x2F;b&#x2F;c 以外的任意字符</td>
</tr>
<tr>
<td><code>(abc)</code></td>
<td>分组，整体匹配</td>
</tr>
<tr>
<td>&#96;a</td>
<td>b&#96;</td>
</tr>
<tr>
<td><code>^</code></td>
<td>匹配开头</td>
</tr>
<tr>
<td><code>$</code></td>
<td>匹配结尾</td>
</tr>
</tbody></table>
<ul>
<li>[a-z] 任意的小写字母</li>
<li>[A-Z] 任意的大写字母</li>
<li>[a-zA-Z] 任意的字母</li>
<li>[0-9]任意数字</li>
</ul>
<h3 id="【常用修饰符（flags）】"><a href="#【常用修饰符（flags）】" class="headerlink" title="【常用修饰符（flags）】"></a>【常用修饰符（flags）】</h3><table>
<thead>
<tr>
<th>修饰符</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td><code>i</code></td>
<td>忽略大小写</td>
</tr>
<tr>
<td><code>g</code></td>
<td>全局匹配（多次匹配）</td>
</tr>
<tr>
<td><code>m</code></td>
<td>多行匹配（影响 <code>^</code> 和 <code>$</code>）</td>
</tr>
</tbody></table>
<h3 id="【常用方法】-1"><a href="#【常用方法】-1" class="headerlink" title="【常用方法】"></a>【常用方法】</h3><table>
<thead>
<tr>
<th>方法</th>
<th>返回值</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>test(str)</code></td>
<td><code>Boolean</code></td>
<td>是否匹配字符串</td>
</tr>
<tr>
<td><code>exec(str)</code></td>
<td><code>Match对象或null</code></td>
<td>返回<strong>第一个匹配内容及位置</strong></td>
</tr>
</tbody></table>
<p>示例：<code>test()</code> 用于判断字符串是否匹配正则</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> regex = <span class="hljs-regexp">/\d+/</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(regex.<span class="hljs-title function_">test</span>(<span class="hljs-string">&quot;abc123&quot;</span>)); <span class="hljs-comment">// true</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(regex.<span class="hljs-title function_">test</span>(<span class="hljs-string">&quot;abc&quot;</span>));    <span class="hljs-comment">// false</span><br></code></pre></td></tr></table></figure>

<p>示例：<code>exec()</code> 用于提取详细匹配信息，每调一次匹配一个</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> regex = <span class="hljs-regexp">/\d+/</span>;<br><span class="hljs-keyword">const</span> result = regex.<span class="hljs-title function_">exec</span>(<span class="hljs-string">&quot;abc123def&quot;</span>);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result);     <br><span class="hljs-comment">// [&quot;123&quot;, index: 3, input: &quot;abc123def&quot;, groups: undefined]</span><br></code></pre></td></tr></table></figure>

<p>JS 字符串与正则结合使用最常见的方式，用于查找、替换、提取等：</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>返回值</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>match(regex)</code></td>
<td>匹配结果数组或 null</td>
<td>查找匹配内容</td>
</tr>
<tr>
<td><code>matchAll(regex)</code></td>
<td>可迭代对象</td>
<td>匹配多个（需 <code>g</code>）</td>
</tr>
<tr>
<td><code>search(regex)</code></td>
<td>索引或 -1</td>
<td>查找第一次匹配的位置</td>
</tr>
<tr>
<td><code>replace(regex, 替换值)</code></td>
<td>新字符串</td>
<td>替换匹配内容</td>
</tr>
<tr>
<td><code>split(regex)</code></td>
<td>字符串数组</td>
<td>用正则切割字符串</td>
</tr>
</tbody></table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-comment">//match()：查找匹配内容</span><br><span class="hljs-string">&quot;abc123xyz&quot;</span>.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/\d+/</span>); <span class="hljs-comment">// [&quot;123&quot;]</span><br><span class="hljs-comment">//matchAll()：获取所有匹配（配合 g 修饰符）</span><br><span class="hljs-keyword">const</span> matches = <span class="hljs-string">&quot;a1b2c3&quot;</span>.<span class="hljs-title function_">matchAll</span>(<span class="hljs-regexp">/\d/g</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>([...matches]); <span class="hljs-comment">// [&#123; 0: &quot;1&quot; &#125;, &#123; 0: &quot;2&quot; &#125;, &#123; 0: &quot;3&quot; &#125;]</span><br><span class="hljs-comment">//search()：返回第一个匹配的索引</span><br><span class="hljs-string">&quot;hello123&quot;</span>.<span class="hljs-title function_">search</span>(<span class="hljs-regexp">/\d/</span>); <span class="hljs-comment">// 5</span><br><span class="hljs-comment">//replace()：替换匹配的内容</span><br><span class="hljs-string">&quot;abc123xyz&quot;</span>.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\d+/</span>, <span class="hljs-string">&quot;***&quot;</span>); <span class="hljs-comment">// &quot;abc***xyz&quot;</span><br><span class="hljs-string">&quot;abc123xyz&quot;</span>.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\d/g</span>, <span class="hljs-string">&quot;*&quot;</span>);   <span class="hljs-comment">// 全局替换，多个 * </span><br><span class="hljs-comment">//split()：基于正则切割字符串</span><br><span class="hljs-string">&quot;a,b;c.d&quot;</span>.<span class="hljs-title function_">split</span>(<span class="hljs-regexp">/[,;.]/</span>); <span class="hljs-comment">// [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]</span><br></code></pre></td></tr></table></figure>

<h3 id="【常用示例】"><a href="#【常用示例】" class="headerlink" title="【常用示例】"></a>【常用示例】</h3><p>验证手机号（中国大陆）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">/^<span class="hljs-number">1</span>[<span class="hljs-number">3</span>-<span class="hljs-number">9</span>]\d&#123;<span class="hljs-number">9</span>&#125;$/<br></code></pre></td></tr></table></figure>

<p>验证邮箱地址</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">/^[\w.-]+@[a-zA-Z\d.-]+\.[a-zA-Z]&#123;<span class="hljs-number">2</span>,&#125;$/<br></code></pre></td></tr></table></figure>

<p>仅匹配数字</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js">/^\d+$/   <span class="hljs-comment">// 正整数</span><br><span class="hljs-regexp">/^-?\d+$/</span> <span class="hljs-comment">// 可带负号</span><br></code></pre></td></tr></table></figure>

<p>提取数字</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> str = <span class="hljs-string">&quot;价格是 ¥88 元&quot;</span>;<br><span class="hljs-keyword">const</span> match = str.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/\d+/</span>); <span class="hljs-comment">// [&quot;88&quot;]</span><br></code></pre></td></tr></table></figure>

<h1 id="JavaScript-DOM"><a href="#JavaScript-DOM" class="headerlink" title="JavaScript DOM"></a>JavaScript DOM</h1><h2 id="什么是DOM"><a href="#什么是DOM" class="headerlink" title="什么是DOM"></a>什么是DOM</h2><p>DOM，全称Document Object Model，<font color="#409eff">中文翻译为文档对象模型</font>。DOM属于Web API的一部分。Web API中定义了非常多的对象，通过这些对象可以完成对网页的各种操作（添加删除元素、发送请求、操作浏览器等）。它将网页结构以<strong>“树状结构”</strong>的方式表示出来，每个 HTML 标签、文本、注释都对应成一“节点（Node）”。</p>
<p>DOM中的D意为Document，即文档。所谓文档就是指整个网页，换言之，DOM是用来操作网页的。O意为Object，即对象。<font color="#409eff">DOM将网页中的每一部分内容都转换为了对象</font>，div有div的对象，input有input的对象，甚至一段文本，一段注释也有其所对应的对象。转换为对象干什么？还记得面向对象吗？转换对象以后，我们就可以以面向对象的方式去操作网页，想要操作哪个元素就获取哪个元素的对象，然后通过调用其方法或属性完成各种操作。M意为Model，即模型。模型用来表示对象之间的关系，也就是父子元素、祖先后代、兄弟元素等，明确关系后我们便可以通过任意一个对象去获取其他的对象。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;zh&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>My Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>A Heading<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;#&quot;</span>&gt;</span>Link Text<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<img src="/2025/08/04/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/JavaScript%E6%A0%B8%E5%BF%83%E6%80%BB%E7%BB%93/20220808135838431.png" srcset="/img/loading.gif" lazyload class title="img">

<h3 id="【节点（Node）】"><a href="#【节点（Node）】" class="headerlink" title="【节点（Node）】"></a>【节点（Node）】</h3><p>在DOM标准下，<strong>网页中的每一个部分都会转换为对象。这些对象有一个共同的称呼——节点（Node）</strong>。一个页面将会由多个节点构成，虽然都称为节点，但是它们却有着不同的类型：</p>
<ol>
<li>文档节点</li>
<li>元素节点</li>
<li>文本节点</li>
<li>属性节点</li>
<li>…</li>
</ol>
<p>每一个节点都有其不同的作用，文档节点表示整个网页，元素节点表示某个标签，文本节点表示网页中的文本内容，属性节点表示标签中的各种属性。如果从对象的结构上来讲，这些对象都有一个共同的父类Node。总的来说，都是属于节点，但是具体类型不同。</p>
<h3 id="【关系】"><a href="#【关系】" class="headerlink" title="【关系】"></a>【关系】</h3><ul>
<li>祖先 —— 包含后代元素的元素是祖先元素</li>
<li>后代 —— 被祖先元素包含的元素是后代元素</li>
<li>父 —— 直接包含子元素的元素是父元素</li>
<li>子 —— 直接被父元素包含的元素是子元素</li>
<li>兄弟 —— 拥有相同父元素的元素是兄弟元素</li>
</ul>
<h2 id="Document对象"><a href="#Document对象" class="headerlink" title="Document对象"></a><code>Document对象</code></h2><p>在 JavaScript 中，<code>document</code> 是访问 <strong>DOM（文档对象模型）</strong> 的<strong>入口对象</strong>，它代表整个网页，也叫 <strong>文档对象</strong>。通过它，你可以获取页面上的元素、创建节点、绑定事件、修改结构等。</p>
<p><code>document</code> 是浏览器提供的一个全局对象，它表示当前加载的 HTML 页面，是 <code>window</code> 对象的属性之一。</p>
<p>DOM就是一种宿主对象，即由运行环境（浏览器）提供的对象。对象的复杂程度也开始提升，我们先来看看document的继承关系：</p>
<img src="/2025/08/04/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/JavaScript%E6%A0%B8%E5%BF%83%E6%80%BB%E7%BB%93/20220808141848408.png" srcset="/img/loading.gif" lazyload class title="img">

<p>在标准中，Document继承了Node，Node继承了EventTarget，换言之EventTarget、Node以及Document中所定义的方法document都可以调用，它在浏览器中的实际结构会更复杂一些，这里我们暂时不过多的赘述。</p>
<blockquote>
<p>document对象的原型链 HTMLDocument -&gt; Document -&gt; Node -&gt; EventTarget -&gt; Object.prototype -&gt; null</p>
</blockquote>
<p>凡是再原型链中存在的对象的属性和方法都可以调用。</p>
<p><strong>部分属性：</strong></p>
<table>
<thead>
<tr>
<th>属性&#x2F;方法</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td><code>document.documentElement</code></td>
<td>获取 <code>&lt;html&gt;</code> 元素</td>
</tr>
<tr>
<td><code>document.body</code></td>
<td>获取 <code>&lt;body&gt;</code> 元素</td>
</tr>
<tr>
<td><code>document.head</code></td>
<td>获取 <code>&lt;head&gt;</code> 元素</td>
</tr>
<tr>
<td><code>document.title</code></td>
<td>获取&#x2F;设置网页标题</td>
</tr>
<tr>
<td><code>document.URL</code></td>
<td>当前页面完整 URL</td>
</tr>
<tr>
<td><code>document.domain</code></td>
<td>当前页面的域名</td>
</tr>
<tr>
<td><code>document.cookie</code></td>
<td>读取&#x2F;设置 cookie 值</td>
</tr>
<tr>
<td><code>document.readyState</code></td>
<td>加载状态：<code>loading</code>、<code>interactive</code>、<code>complete</code></td>
</tr>
</tbody></table>
<h2 id="Element对象"><a href="#Element对象" class="headerlink" title="Element对象"></a>Element对象</h2><p>在网页中所有的元素（标签）都是一个Element对象。Element对象的继承关系和Document类似：</p>
<img src="/2025/08/04/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/JavaScript%E6%A0%B8%E5%BF%83%E6%80%BB%E7%BB%93/20220808210844195.png" srcset="/img/loading.gif" lazyload class title="img">

<table>
<thead>
<tr>
<th>特性</th>
<th><code>Node</code></th>
<th><code>Element</code></th>
</tr>
</thead>
<tbody><tr>
<td>类型</td>
<td>基类</td>
<td>HTML 元素的专用子类</td>
</tr>
<tr>
<td>包含哪些</td>
<td>文本、注释、元素等</td>
<td>只有 HTML 元素</td>
</tr>
<tr>
<td>常用方法</td>
<td>appendChild 等</td>
<td>innerHTML、style、classList 等</td>
</tr>
</tbody></table>
<p>可以通过Document或其他元素直接获取已有的Element对象，也可以使用Document来创建新的Element对象。我们先来看看如何通过document获取已有的Element对象。</p>
<ul>
<li><code>document.documentElement</code> 获取html根元素</li>
<li><code>document.body</code> 获取body元素</li>
<li><code>document.getElementByID()</code> 根据id获取一个元素</li>
<li><code>document.getElementsByClassName()</code> 根据class属性获取元素（实时更新列表）</li>
<li><code>document.getElementsByTagName()</code> 根据标签名获取元素（实时更新列表）</li>
<li><code>document.getElementsByName()</code> 根据name属性获取元素（实时更新列表）</li>
<li><code>document.querySelector()</code> 根据选择器获取一个元素</li>
<li><code>document.querySelectorAll()</code> 根据选择器获取一组元素</li>
</ul>
<p>通过其他元素获取已有的Element对象：</p>
<ul>
<li><code>element.children</code></li>
<li><code>element.parentNode</code></li>
<li><code>element.firstElementChild</code></li>
<li><code>element.lastElementChild</code></li>
<li>……</li>
</ul>
<p>创建Element对象：</p>
<ul>
<li><code>document.createElement()</code> 根据标签名创建元素节点对象</li>
</ul>
<h3 id="【文本操作】"><a href="#【文本操作】" class="headerlink" title="【文本操作】"></a>【文本操作】</h3><p>在DOM中，文本内容也是一个节点对象（Text），可以通过获取文本对象然后完成对它的各种操作，但这种做法会使得事情变得复杂，并不建议这么做。在大部分场景下，可以通过元素的属性来操作其中的文本内容，比如有如下文本：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>div中的文本内容<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>假设我们已经获取到了div的元素节点对象，我们可以通过以下的属性来完成对文本的操作：</p>
<table>
<thead>
<tr>
<th>属性&#x2F;方法</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td><code>innerHTML</code></td>
<td>获取&#x2F;设置 HTML 内容（会解析标签）</td>
</tr>
<tr>
<td><code>textContent</code></td>
<td>获取&#x2F;设置纯文本内容（不解析 HTML）</td>
</tr>
<tr>
<td><code>innerText</code></td>
<td>类似于 <code>textContent</code>，受 CSS 影响</td>
</tr>
</tbody></table>
<h3 id="【属性操作】"><a href="#【属性操作】" class="headerlink" title="【属性操作】"></a>【属性操作】</h3><p>属性也是一个节点对象（Attr），和文本一样，通常我们不会去直接获取节点对象，而是通过元素来完成对属性的操作：</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>getAttribute(name)</code></td>
<td>获取属性</td>
</tr>
<tr>
<td><code>setAttribute(name, value)</code></td>
<td>设置属性</td>
</tr>
<tr>
<td><code>removeAttribute(name)</code></td>
<td>删除属性</td>
</tr>
<tr>
<td><code>hasAttribute(name)</code></td>
<td>检查属性是否存在</td>
</tr>
</tbody></table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js">element.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&#x27;id&#x27;</span>, <span class="hljs-string">&#x27;box&#x27;</span>);<br>element.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">&#x27;class&#x27;</span>);<br></code></pre></td></tr></table></figure>

<h3 id="【类名操作】"><a href="#【类名操作】" class="headerlink" title="【类名操作】"></a>【类名操作】</h3><p>使用 <code>classList</code> 操作类名：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js">element.<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">&#x27;active&#x27;</span>);<br>element.<span class="hljs-property">classList</span>.<span class="hljs-title function_">remove</span>(<span class="hljs-string">&#x27;hidden&#x27;</span>);<br>element.<span class="hljs-property">classList</span>.<span class="hljs-title function_">toggle</span>(<span class="hljs-string">&#x27;dark&#x27;</span>); <span class="hljs-comment">// 有则删，无则加</span><br>element.<span class="hljs-property">classList</span>.<span class="hljs-title function_">contains</span>(<span class="hljs-string">&#x27;dark&#x27;</span>); <span class="hljs-comment">// 检查类名是否存在</span><br></code></pre></td></tr></table></figure>

<h3 id="【样式操作】"><a href="#【样式操作】" class="headerlink" title="【样式操作】"></a>【样式操作】</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js">element.<span class="hljs-property">style</span>.<span class="hljs-property">color</span> = <span class="hljs-string">&#x27;red&#x27;</span>;<br>element.<span class="hljs-property">style</span>.<span class="hljs-property">backgroundColor</span> = <span class="hljs-string">&#x27;yellow&#x27;</span>;<br></code></pre></td></tr></table></figure>

<blockquote>
<p><code>element.style</code> 是操作内联样式，不影响 class 设置的样式。</p>
</blockquote>
<h2 id="事件（event）"><a href="#事件（event）" class="headerlink" title="事件（event）"></a>事件（event）</h2><p>事件指用户和网页之间发生的交互行为。比如点击按钮、移动鼠标、改变窗口大小、表单输入等等等等，用户的所有操作都可以被当成是一个事件。JS中通过为事件绑定回调函数来处理事件，绑定回调函数后，事件触发后回调函数便会执行，以此来响应用户的行为，所以事件的回调函数我们也称其为事件的响应函数。</p>
<h3 id="【绑定回调函数】"><a href="#【绑定回调函数】" class="headerlink" title="【绑定回调函数】"></a>【绑定回调函数】</h3><ol>
<li>通过标签的事件属性</li>
<li>通过元素对象的事件属性</li>
<li>通过元素addEventListener()方法</li>
</ol>
<p>方式一：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;alert(&#x27;按钮被点了！&#x27;)&quot;</span>&gt;</span>点我一下<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>方式二：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> btn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;btn&quot;</span>)<br>btn.<span class="hljs-property">onclick</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;按钮被点击了！&quot;</span>)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>方式三：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> btn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;btn&quot;</span>)<br>btn.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;click&quot;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;按钮被点了&quot;</span>)<br>&#125;) <span class="hljs-comment">// 可以绑定多个事件</span><br></code></pre></td></tr></table></figure>

<h2 id="文档加载事件"><a href="#文档加载事件" class="headerlink" title="文档加载事件"></a>文档加载事件</h2><p>在网页中编写DOM代码时，如果依然将script标签编写到head中，会有无法获取DOM对象情况出现。这是因为网页的加载是自上向下依次加载的，如果将代码写在前边会导致代码执行时网页还没有加载，DOM对象也就无法获取了。</p>
<p>如何解决这个问题呢？有这么几种方案：</p>
<ol>
<li>将script标签写在body的最后</li>
<li>将js代码编写到window.onload事件的回调函数中</li>
<li>将js代码编写到document对象的DOMContentLoaded事件的回调函数中</li>
<li>将js代码编写到外部的js文件中，引入时为script标签添加defer属性</li>
</ol>
<p>方式一：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;zh&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;btn&quot;</span>&gt;</span>点我一下<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><br>        <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">            <span class="hljs-keyword">const</span> btn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;btn&quot;</span>)</span><br><span class="language-javascript">            btn.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;click&quot;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">                <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;按钮被点了&quot;</span>)</span><br><span class="language-javascript">            &#125;)</span><br><span class="language-javascript">        </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>代码编写到了body的最后，代码执行时网页已经加载完毕了，不会出现无法获取DOM对象的问题。</p>
<p>方式二：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">window</span>.<span class="hljs-property">onload</span> = <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-keyword">const</span> btn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;btn&quot;</span>)<br>    btn.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;click&quot;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;按钮被点了&quot;</span>)<br>    &#125;)<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;load&quot;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-keyword">const</span> btn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;btn&quot;</span>)<br>    btn.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;click&quot;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;按钮被点了&quot;</span>)<br>    &#125;)<br>&#125;)<br></code></pre></td></tr></table></figure>

<p>将js代码编写到window的load事件的回调函数中，load事件会在页面加载完毕后触发，同样可以避免上述问题。</p>
<p>方式三：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;DOMContentLoaded&quot;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-keyword">const</span> btn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;btn&quot;</span>)<br>    btn.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;click&quot;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;按钮被点了&quot;</span>)<br>    &#125;)<br>&#125;)<br></code></pre></td></tr></table></figure>

<p>将js代码编写到document的DOMContentLoaded事件的回调函数中，代码会在当前文档加载完毕后执行也可以避免上述情况。（相较于load事件，DOMContentLoaded事件的执行更早一些）</p>
<p>方式四：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;./script.js&quot;</span> <span class="hljs-attr">defer</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>设置defer后，脚本将会在文档解析之后加载，同样可以避免上述问题。（执行时机早于DOMContentLoaded）</p>
<h2 id="Element操作"><a href="#Element操作" class="headerlink" title="Element操作"></a>Element操作</h2><h3 id="【增删改查】"><a href="#【增删改查】" class="headerlink" title="【增删改查】"></a>【增删改查】</h3><table>
<thead>
<tr>
<th>操作</th>
<th>含义</th>
<th>关键词</th>
</tr>
</thead>
<tbody><tr>
<td>查</td>
<td>查询&#x2F;获取元素</td>
<td><code>getElementById</code>、<code>querySelector</code> 等</td>
</tr>
<tr>
<td>增</td>
<td>新增元素（创建并添加）</td>
<td><code>createElement</code> + <code>appendChild</code></td>
</tr>
<tr>
<td>改</td>
<td>修改内容&#x2F;属性&#x2F;样式</td>
<td><code>textContent</code>、<code>style</code>、<code>setAttribute</code></td>
</tr>
<tr>
<td>删</td>
<td>删除已有元素</td>
<td><code>removeChild()</code> 或 <code>remove()</code></td>
</tr>
</tbody></table>
<p><strong>查（Read）：获取元素</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;id&#x27;</span>);<br><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementsByClassName</span>(<span class="hljs-string">&#x27;class&#x27;</span>);<br><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementsByTagName</span>(<span class="hljs-string">&#x27;div&#x27;</span>);<br><br><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;css选择器&#x27;</span>);      <span class="hljs-comment">// 返回第一个匹配</span><br><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">&#x27;css选择器&#x27;</span>);   <span class="hljs-comment">// 返回所有匹配</span><br></code></pre></td></tr></table></figure>

<p>示例</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> title = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;title&#x27;</span>);<br><span class="hljs-keyword">const</span> listItems = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">&#x27;ul li&#x27;</span>);<br></code></pre></td></tr></table></figure>

<p><strong>增（Create）：新增元素</strong></p>
<p>创建元素</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> newDiv = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;div&#x27;</span>);<br>newDiv.<span class="hljs-property">textContent</span> = <span class="hljs-string">&#x27;我是新元素&#x27;</span>;<br></code></pre></td></tr></table></figure>

<p>插入元素</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(newDiv);              <span class="hljs-comment">// 添加到 body 最后</span><br>parent.<span class="hljs-title function_">insertBefore</span>(newDiv, referenceNode);     <span class="hljs-comment">// 插入到某个子元素前</span><br>list.<span class="hljs-title function_">insertAdjacentElement</span>(<span class="hljs-string">&quot;afterend&quot;</span>, li)<br><span class="hljs-comment">//insertAdjacentElement()可以向元素的任意位置添加元素</span><br><span class="hljs-comment">//两个参数：1.要添加的位置 2.要添加的元素</span><br><span class="hljs-comment">// beforeend 标签的最后 afterbegin 标签的开始  </span><br><span class="hljs-comment">// beforebegin 在元素的前边插入元素（兄弟元素） afterend 在元素的后边插入元素（兄弟元素）</span><br><span class="hljs-comment">// 容易被xss攻击</span><br></code></pre></td></tr></table></figure>

<p>创建并插入多个元素（推荐使用 DocumentFragment）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> fragment = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createDocumentFragment</span>();<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) &#123;<br>  <span class="hljs-keyword">const</span> li = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;li&#x27;</span>);<br>  li.<span class="hljs-property">textContent</span> = <span class="hljs-string">&#x27;项 &#x27;</span> + (i + <span class="hljs-number">1</span>);<br>  fragment.<span class="hljs-title function_">appendChild</span>(li);<br>&#125;<br>ul.<span class="hljs-title function_">appendChild</span>(fragment);<br></code></pre></td></tr></table></figure>

<p><strong>改（Update）：修改元素内容&#x2F;样式&#x2F;属性</strong></p>
<p>修改内容</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js">element.<span class="hljs-property">textContent</span> = <span class="hljs-string">&#x27;新文本内容&#x27;</span>;<br>element.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">&#x27;&lt;strong&gt;新内容&lt;/strong&gt;&#x27;</span>;<br></code></pre></td></tr></table></figure>

<p>修改样式</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">element.<span class="hljs-property">style</span>.<span class="hljs-property">color</span> = <span class="hljs-string">&#x27;red&#x27;</span>;<br>element.<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">&#x27;active&#x27;</span>);<br>element.<span class="hljs-property">classList</span>.<span class="hljs-title function_">remove</span>(<span class="hljs-string">&#x27;hidden&#x27;</span>);<br></code></pre></td></tr></table></figure>

<p>修改属性</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">element.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&#x27;title&#x27;</span>, <span class="hljs-string">&#x27;提示文字&#x27;</span>);<br></code></pre></td></tr></table></figure>

<p><strong>删（Delete）：删除元素</strong></p>
<p>方法一：从父元素中移除子元素</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">parent.<span class="hljs-title function_">removeChild</span>(child);<br></code></pre></td></tr></table></figure>

<p>方法二：直接删除（现代写法）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">element.<span class="hljs-title function_">remove</span>();  <span class="hljs-comment">// ES6+</span><br></code></pre></td></tr></table></figure>

<h3 id="【节点复制】"><a href="#【节点复制】" class="headerlink" title="【节点复制】"></a>【节点复制】</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> newNode = node.<span class="hljs-title function_">cloneNode</span>(deep);<br></code></pre></td></tr></table></figure>

<p><code>deep</code>（布尔值）：</p>
<ul>
<li><code>true</code>：深拷贝，复制节点本身 <strong>及其所有子节点</strong></li>
<li><code>false</code>：浅拷贝，只复制当前节点，不复制其子节点</li>
</ul>
<p>复制后的节点是<strong>新的节点对象</strong>，你可以对它进行修改：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> copy = original.<span class="hljs-title function_">cloneNode</span>(<span class="hljs-literal">true</span>);<br>copy.<span class="hljs-property">id</span> = <span class="hljs-string">&#x27;copy&#x27;</span>;                       <span class="hljs-comment">// 改 ID</span><br>copy.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;span&#x27;</span>).<span class="hljs-property">textContent</span> = <span class="hljs-string">&#x27;JS&#x27;</span>; <span class="hljs-comment">// 改内部内容</span><br><span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(copy);<br></code></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>注意点</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>不会复制事件</td>
<td>事件监听器不会被克隆（必须手动添加）</td>
</tr>
<tr>
<td>不会复制绑定的数据</td>
<td>自定义属性、数据绑定等框架状态不会复制</td>
</tr>
<tr>
<td>不会插入页面</td>
<td><code>cloneNode()</code> 只是创建节点，需 <code>appendChild()</code> 或 <code>insertBefore()</code> 插入页面</td>
</tr>
</tbody></table>
<h3 id="【样式修改】"><a href="#【样式修改】" class="headerlink" title="【样式修改】"></a>【样式修改】</h3><p>两种常见方式</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>element.style</code></td>
<td>修改<strong>行内样式</strong></td>
</tr>
<tr>
<td><code>element.classList</code></td>
<td>通过<strong>类名</strong>控制样式</td>
</tr>
</tbody></table>
<p>使用 <code>element.style</code> 直接修改样式</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">element.<span class="hljs-property">style</span>.样式名 = <span class="hljs-string">&#x27;值&#x27;</span>;<br></code></pre></td></tr></table></figure>

<blockquote>
<p>注意：JS 中的样式名使用 <strong>驼峰命名</strong>，如 <code>backgroundColor</code>、<code>fontSize</code>。</p>
</blockquote>
<p>示例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> box = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;box&#x27;</span>);<br><br>box.<span class="hljs-property">style</span>.<span class="hljs-property">color</span> = <span class="hljs-string">&#x27;red&#x27;</span>;              <span class="hljs-comment">// 设置字体颜色</span><br>box.<span class="hljs-property">style</span>.<span class="hljs-property">backgroundColor</span> = <span class="hljs-string">&#x27;yellow&#x27;</span>; <span class="hljs-comment">// 设置背景</span><br>box.<span class="hljs-property">style</span>.<span class="hljs-property">fontSize</span> = <span class="hljs-string">&#x27;20px&#x27;</span>;          <span class="hljs-comment">// 设置字体大小</span><br>box.<span class="hljs-property">style</span>.<span class="hljs-property">border</span> = <span class="hljs-string">&#x27;1px solid black&#x27;</span>; <span class="hljs-comment">// 设置边框</span><br></code></pre></td></tr></table></figure>

<p>清除样式：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">box.<span class="hljs-property">style</span>.<span class="hljs-property">color</span> = <span class="hljs-string">&#x27;&#x27;</span>; <span class="hljs-comment">// 清除 color 样式</span><br></code></pre></td></tr></table></figure>

<p><strong>使用 <code>className</code> 或 <code>classList</code> 控制样式（推荐）</strong></p>
<p>相比 <code>element.style</code>，使用类名控制样式更整洁、易维护。</p>
<p>设置整个类名（不推荐直接覆盖）：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">element.<span class="hljs-property">className</span> = <span class="hljs-string">&#x27;box active&#x27;</span>; <span class="hljs-comment">// 替换所有类名</span><br></code></pre></td></tr></table></figure>

<p>推荐使用 <code>element.classList</code>（常用）</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>add(&#39;class&#39;)</code></td>
<td>添加类名</td>
</tr>
<tr>
<td><code>remove(&#39;class&#39;)</code></td>
<td>删除类名</td>
</tr>
<tr>
<td><code>toggle(&#39;class&#39;)</code></td>
<td>有则删，无则加（切换）</td>
</tr>
<tr>
<td><code>contains(&#39;class&#39;)</code></td>
<td>检查类名是否存在</td>
</tr>
</tbody></table>
<p>示例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js">element.<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">&#x27;active&#x27;</span>);<br>element.<span class="hljs-property">classList</span>.<span class="hljs-title function_">remove</span>(<span class="hljs-string">&#x27;hidden&#x27;</span>);<br>element.<span class="hljs-property">classList</span>.<span class="hljs-title function_">toggle</span>(<span class="hljs-string">&#x27;dark-mode&#x27;</span>);<br><span class="hljs-keyword">if</span> (element.<span class="hljs-property">classList</span>.<span class="hljs-title function_">contains</span>(<span class="hljs-string">&#x27;active&#x27;</span>)) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;当前处于激活状态&#x27;</span>);<br>&#125;<br></code></pre></td></tr></table></figure>

<blockquote>
<p>🔁 <code>toggle()</code> 可配合按钮实现样式切换。</p>
</blockquote>
<p><strong>完整例子：点击切换样式</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">  <span class="hljs-selector-class">.highlight</span> &#123;</span><br><span class="language-css">    <span class="hljs-attribute">background-color</span>: orange;</span><br><span class="language-css">    <span class="hljs-attribute">color</span>: white;</span><br><span class="language-css">  &#125;</span><br><span class="language-css"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;text&quot;</span>&gt;</span>点按钮改变我<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;btn&quot;</span>&gt;</span>切换样式<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-keyword">const</span> btn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;btn&#x27;</span>);</span><br><span class="language-javascript">    <span class="hljs-keyword">const</span> text = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;text&#x27;</span>);</span><br><span class="language-javascript"></span><br><span class="language-javascript">    btn.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-function">() =&gt;</span> &#123;</span><br><span class="language-javascript">      text.<span class="hljs-property">classList</span>.<span class="hljs-title function_">toggle</span>(<span class="hljs-string">&#x27;highlight&#x27;</span>);</span><br><span class="language-javascript">    &#125;);</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p><strong>动态修改多个样式</strong></p>
<p>你可以一次性修改多个样式属性：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(element.<span class="hljs-property">style</span>, &#123;<br>  <span class="hljs-attr">color</span>: <span class="hljs-string">&#x27;white&#x27;</span>,<br>  <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">&#x27;black&#x27;</span>,<br>  <span class="hljs-attr">padding</span>: <span class="hljs-string">&#x27;10px&#x27;</span><br>&#125;);<br></code></pre></td></tr></table></figure>

<p>或者使用 CSS 变量配合样式切换。</p>
<p>如果你想<font color="#409eff">获取实际生效的样式</font>，而不是行内的，可以用<code>getComputedStyle</code>：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> styles = <span class="hljs-title function_">getComputedStyle</span>(element);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(styles.<span class="hljs-property">color</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(styles.<span class="hljs-property">fontSize</span>);<br></code></pre></td></tr></table></figure>

<p><strong>style 与 classList 的区别</strong></p>
<table>
<thead>
<tr>
<th>对比项</th>
<th><code>element.style</code></th>
<th><code>element.classList</code></th>
</tr>
</thead>
<tbody><tr>
<td>修改方式</td>
<td>直接操作行内样式</td>
<td>添加&#x2F;删除类名</td>
</tr>
<tr>
<td>可读性</td>
<td>差</td>
<td>高</td>
</tr>
<tr>
<td>可维护性</td>
<td>差</td>
<td>高（CSS 中集中管理）</td>
</tr>
<tr>
<td>适合情况</td>
<td>动态计算样式、动画</td>
<td>常规样式控制、主题切换</td>
</tr>
</tbody></table>
<p><strong>常见坑与注意事项</strong></p>
<ol>
<li><p><strong>样式名要用驼峰写法</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">element.<span class="hljs-property">style</span>.<span class="hljs-property">backgroundColor</span> <span class="hljs-comment">// 而不是 background-color</span><br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>缺单位的值会无效</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">element.<span class="hljs-property">style</span>.<span class="hljs-property">fontSize</span> = <span class="hljs-string">&#x27;20px&#x27;</span>; <span class="hljs-comment">// 不要忘记 px</span><br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>不要直接覆盖 className（容易丢类）</strong></p>
</li>
<li><p><strong>事件触发修改样式</strong>时注意不要写错引用：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">button.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">classList</span>.<span class="hljs-title function_">toggle</span>(<span class="hljs-string">&#x27;active&#x27;</span>);<br>&#125;);<br></code></pre></td></tr></table></figure></li>
</ol>
<p><strong>根据属性获取样式</strong></p>
<table>
<thead>
<tr>
<th>属性</th>
<th>包括哪些部分</th>
<th>常用于</th>
</tr>
</thead>
<tbody><tr>
<td><code>clientWidth</code></td>
<td>内容区 + padding</td>
<td>可视内容宽度</td>
</tr>
<tr>
<td><code>offsetWidth</code></td>
<td>内容区 + padding + border（+ 滚动条）</td>
<td>元素总宽度</td>
</tr>
<tr>
<td><code>scrollWidth</code></td>
<td>所有内容宽度（即使不可见）</td>
<td>内容溢出检测、横向滚动</td>
</tr>
<tr>
<td><code>offsetParent</code></td>
<td>离元素最近的设置了定位的祖先元素</td>
<td>定位计算</td>
</tr>
<tr>
<td><code>offsetTop</code></td>
<td>元素顶部相对于 <code>offsetParent</code> 的距离</td>
<td>绝对&#x2F;相对定位偏移计算</td>
</tr>
<tr>
<td><code>scrollTop</code></td>
<td>元素垂直滚动偏移量</td>
<td>滚动判断、回滚顶部&#x2F;底部控制</td>
</tr>
</tbody></table>
<h2 id="事件对象"><a href="#事件对象" class="headerlink" title="事件对象"></a>事件对象</h2><p>事件对象是浏览器在事件触发时自动传递给事件监听函数的<strong>包含事件详细信息的对象</strong>。浏览器在创建事件对象后，会将事件对象作为响应函数的参数传递，所以我们可以在事件的回调函数中定义一个形参来接收事件对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">element.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(event); <span class="hljs-comment">// 输出事件对象</span><br>&#125;);<br></code></pre></td></tr></table></figure>

<p>在函数中通常会用 <code>e</code> 或 <code>event</code> 表示该对象。这个对象中<font color="#409eff">封装了事件相关的各种信息.</font></p>
<h3 id="【基本结构】"><a href="#【基本结构】" class="headerlink" title="【基本结构】"></a>【基本结构】</h3><p>事件对象是各种事件类型的基类对象（如 <code>MouseEvent</code>、<code>KeyboardEvent</code>、<code>InputEvent</code>），都继承自 <code>Event</code>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js">event &#123;<br>  type,          <span class="hljs-comment">// 事件类型，例如 &#x27;click&#x27;</span><br>  target,        <span class="hljs-comment">// 触发事件的元素</span><br>  currentTarget, <span class="hljs-comment">// 当前绑定事件的元素</span><br>  bubbles,       <span class="hljs-comment">// 是否支持冒泡</span><br>  cancelable,    <span class="hljs-comment">// 是否可以取消默认行为</span><br>  timeStamp,     <span class="hljs-comment">// 事件发生时间</span><br>  ...<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="【常用方法属性】"><a href="#【常用方法属性】" class="headerlink" title="【常用方法属性】"></a>【常用方法属性】</h3><p><strong>多种事件对象有一个共同的祖先 Event</strong></p>
<ol>
<li><code>event.type</code></li>
</ol>
<p>返回事件的类型（如 <code>&quot;click&quot;</code>, <code>&quot;keydown&quot;</code>）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(event.<span class="hljs-property">type</span>); <span class="hljs-comment">// 输出 &#x27;click&#x27;</span><br></code></pre></td></tr></table></figure>

<ol start="2">
<li><code>event.target</code> 和 <code>event.currentTarget</code></li>
</ol>
<table>
<thead>
<tr>
<th>属性</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td><code>target</code></td>
<td>实际触发事件的元素</td>
</tr>
<tr>
<td><code>currentTarget</code></td>
<td>当前绑定事件的元素</td>
</tr>
</tbody></table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js">element.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;target:&#x27;</span>, event.<span class="hljs-property">target</span>);<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;currentTarget:&#x27;</span>, event.<span class="hljs-property">currentTarget</span>);<br>&#125;);<br></code></pre></td></tr></table></figure>

<ol start="3">
<li><code>event.preventDefault()</code></li>
</ol>
<p>阻止事件的默认行为（如点击链接不跳转）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">link.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) &#123;<br>  e.<span class="hljs-title function_">preventDefault</span>();<br>&#125;);<br></code></pre></td></tr></table></figure>

<ol start="4">
<li><code>event.stopPropagation()</code></li>
</ol>
<p>阻止事件继续冒泡（向上冒泡被中断）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">child.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) &#123;<br>  e.<span class="hljs-title function_">stopPropagation</span>();<br>&#125;);<br></code></pre></td></tr></table></figure>

<p><strong>鼠标事件特有属性（<code>MouseEvent</code>）</strong></p>
<table>
<thead>
<tr>
<th>属性</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td><code>clientX</code></td>
<td>鼠标点击时，视口内 X 坐标</td>
</tr>
<tr>
<td><code>clientY</code></td>
<td>鼠标点击时，视口内 Y 坐标</td>
</tr>
<tr>
<td><code>pageX</code></td>
<td>相对于页面的 X 坐标</td>
</tr>
<tr>
<td><code>button</code></td>
<td>哪个鼠标键触发了事件（0 左，1 中，2 右）</td>
</tr>
</tbody></table>
<p><strong>键盘事件特有属性（<code>KeyboardEvent</code>）</strong></p>
<table>
<thead>
<tr>
<th>属性</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td><code>key</code></td>
<td>被按下的键的字符</td>
</tr>
<tr>
<td><code>code</code></td>
<td>键盘的物理按键代码</td>
</tr>
<tr>
<td><code>ctrlKey</code></td>
<td>是否按下 Ctrl</td>
</tr>
<tr>
<td><code>shiftKey</code></td>
<td>是否按下 Shift</td>
</tr>
</tbody></table>
<h3 id="【事件冒泡】"><a href="#【事件冒泡】" class="headerlink" title="【事件冒泡】"></a>【事件冒泡】</h3><p><strong>事件冒泡（Event Bubbling）</strong> 是 DOM 中的一种事件传播机制，指的是：</p>
<blockquote>
<p>当一个元素上的事件被触发时，<strong>该事件会从最深层的目标元素向上传播</strong>，依次经过它的父元素、祖先元素，直到 <code>document</code> 根节点。</p>
</blockquote>
<p>这就像水泡从水底冒到水面一样，所以称为 “<strong>冒泡</strong>“。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;div id=<span class="hljs-string">&quot;parent&quot;</span>&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;child&quot;</span>&gt;</span>点击我<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>&lt;/div&gt;<br>js复制编辑<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;child&#x27;</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;子元素被点击&#x27;</span>);<br>&#125;);<br><br><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;parent&#x27;</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;父元素被点击&#x27;</span>);<br>&#125;);<br></code></pre></td></tr></table></figure>

<p>输出结果是：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js">子元素被点击<br>父元素被点击<br></code></pre></td></tr></table></figure>

<p>因为事件会先在目标元素（<code>child</code>）触发，然后 <strong>冒泡到父元素</strong>（<code>parent</code>）。</p>
<p><strong>事件传播的三个阶段</strong></p>
<ol>
<li><strong>捕获阶段</strong>（Capture）：<ul>
<li>从 <code>window</code> 一直向下捕获到目标元素，但此阶段默认不会触发监听器。</li>
</ul>
</li>
<li><strong>目标阶段</strong>（Target）：<ul>
<li>事件在目标元素上触发。</li>
</ul>
</li>
<li><strong>冒泡阶段</strong>（Bubble）：<ul>
<li>从目标元素向上冒泡到 <code>document</code>，依次触发祖先元素上的监听器（如果有）。</li>
</ul>
</li>
</ol>
<p> <strong>可视图：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs php+HTML">window<br>  ↓<br>document<br>  ↓<br>&lt;html&gt;<br>  ↓<br>&lt;body&gt;<br>  ↓<br>&lt;div id=&quot;parent&quot;&gt;     ← 父元素监听器触发<br>  ↓<br>&lt;button id=&quot;child&quot;&gt;   ← 目标元素监听器触发<br></code></pre></td></tr></table></figure>

<p>如何阻止事件冒泡？</p>
<p>使用 <code>event.stopPropagation()</code>：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;child&#x27;</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> &#123;<br>  e.<span class="hljs-title function_">stopPropagation</span>(); <span class="hljs-comment">// 阻止事件冒泡到 parent</span><br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;点击了子元素&#x27;</span>);<br>&#125;);<br></code></pre></td></tr></table></figure>

<p>这时点击按钮只会输出：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">点击了子元素<br></code></pre></td></tr></table></figure>

<p><strong>注意事项</strong></p>
<ul>
<li>并不是所有事件都支持冒泡，如 <code>blur</code> 和 <code>focus</code> 不冒泡。</li>
<li>如果用 <code>addEventListener(event, handler, true)</code>，则监听器会在捕获阶段触发。 一般情况下我们不希望事件在捕获阶段触发，所有通常都不需要设置第三个参数</li>
</ul>
<p><code>eventPhase</code> 表示事件触发的阶段</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js">box1.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;click&quot;</span>, <span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span> &#123;<br>                <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;1&quot;</span> + event.<span class="hljs-property">eventPhase</span>) <span class="hljs-comment">// eventPhase 表示事件触发的阶段</span><br>                <span class="hljs-comment">//1 捕获阶段 2 目标阶段 3 冒泡阶段</span><br>            &#125;)<br></code></pre></td></tr></table></figure>



<h3 id="【事件委托】"><a href="#【事件委托】" class="headerlink" title="【事件委托】"></a>【事件委托】</h3><p><strong>事件委托</strong> 是指：将事件监听器绑定在某个父元素上，<strong>通过事件冒泡机制</strong>，统一处理其子元素的事件。</p>
<p>换句话说，你<strong>不用给每个子元素都绑定事件</strong>，只需要在<strong>父元素上监听一次</strong>，然后判断事件是从哪个子元素触发的。</p>
<table>
<thead>
<tr>
<th>传统写法问题</th>
<th>事件委托的优势</th>
</tr>
</thead>
<tbody><tr>
<td>子元素多，逐个绑定低效</td>
<td>父元素只绑定一次，节省内存</td>
</tr>
<tr>
<td>子元素可能是动态创建的，无法事先绑定事件</td>
<td>委托可处理未来创建的子元素</td>
</tr>
<tr>
<td>修改结构需重新绑定事件</td>
<td>委托天然支持新增 DOM</td>
</tr>
</tbody></table>
<p>点击 <code>&lt;ul&gt;</code> 中的 <code>&lt;li&gt;</code> 项</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;list&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>项 1<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>项 2<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>项 3<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p> 错误方式（对每个 li 都绑定事件）：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> items = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">&#x27;#list li&#x27;</span>);<br>items.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">li</span> =&gt;</span> &#123;<br>  li.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;点击了&#x27;</span>, li.<span class="hljs-property">textContent</span>);<br>  &#125;);<br>&#125;);<br></code></pre></td></tr></table></figure>

<p>缺点：</p>
<ul>
<li>不支持动态添加的 <code>li</code></li>
<li>性能差，代码冗余</li>
</ul>
<p>正确方式：使用事件委托</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> list = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;list&#x27;</span>);<br><br>list.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) &#123;<br>  <span class="hljs-keyword">if</span> (e.<span class="hljs-property">target</span>.<span class="hljs-property">tagName</span> === <span class="hljs-string">&#x27;LI&#x27;</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;点击了&#x27;</span>, e.<span class="hljs-property">target</span>.<span class="hljs-property">textContent</span>);<br>  &#125;<br>&#125;);<br></code></pre></td></tr></table></figure>

<p>利用了事件冒泡，<code>e.target</code> 就是实际点击的子元素。</p>
<p>动态添加项也能触发！</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> li = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;li&#x27;</span>);<br>li.<span class="hljs-property">textContent</span> = <span class="hljs-string">&#x27;新增项&#x27;</span>;<br>list.<span class="hljs-title function_">appendChild</span>(li); <span class="hljs-comment">// 无需绑定事件，自动生效</span><br></code></pre></td></tr></table></figure>

<p>因为事件绑定在 <code>ul</code> 上，<strong>后添加的子元素也能响应点击</strong>。</p>
<p><strong>常见应用场景</strong></p>
<table>
<thead>
<tr>
<th>应用场景</th>
<th>委托监听的父元素</th>
<th>子元素判断条件</th>
</tr>
</thead>
<tbody><tr>
<td>表格中点击某一行</td>
<td><code>tbody</code></td>
<td><code>e.target.tagName === &#39;TD&#39;</code></td>
</tr>
<tr>
<td>列表点击删除按钮</td>
<td><code>ul</code> &#x2F; <code>div.list</code></td>
<td><code>e.target.classList.contains(&#39;delete-btn&#39;)</code></td>
</tr>
<tr>
<td>表单中输入实时校验</td>
<td><code>form</code></td>
<td><code>e.target.name === &#39;email&#39;</code></td>
</tr>
<tr>
<td>整体布局中捕获所有按钮</td>
<td><code>document.body</code></td>
<td><code>e.target.matches(&#39;button&#39;)</code></td>
</tr>
</tbody></table>
<p><strong>常用判断方法</strong></p>
<table>
<thead>
<tr>
<th>方法</th>
<th>用途</th>
</tr>
</thead>
<tbody><tr>
<td><code>e.target.tagName</code></td>
<td>判断具体 HTML 标签名</td>
</tr>
<tr>
<td><code>e.target.classList.contains()</code></td>
<td>判断是否有某个类名</td>
</tr>
<tr>
<td><code>e.target.matches(&#39;选择器&#39;)</code></td>
<td>判断是否符合某个 CSS 选择器</td>
</tr>
<tr>
<td><code>e.target.closest(&#39;选择器&#39;)</code></td>
<td>向上查找符合的父元素</td>
</tr>
</tbody></table>
<h2 id="BOM对象"><a href="#BOM对象" class="headerlink" title="BOM对象"></a>BOM对象</h2><p><strong>BOM（浏览器对象模型）</strong> 是 JavaScript 与浏览器交互的一套对象结构，允许我们控制浏览器窗口和与之相关的功能（如地址栏、历史记录、导航、定时器、弹窗等）。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">window</span><br>├── location       → 地址栏相关<br>├── history        → 浏览记录<br>├── navigator      → 浏览器信息<br>├── screen         → 屏幕信息<br>├── <span class="hljs-variable language_">document</span>       → 网页内容（<span class="hljs-variable constant_">DOM</span>）<br>├── <span class="hljs-title function_">alert</span>(), <span class="hljs-built_in">setTimeout</span>() 等全局方法<br></code></pre></td></tr></table></figure>

<p><code>window</code> 对象（BOM 的核心）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">window</span>); <span class="hljs-comment">// 全局窗口对象</span><br></code></pre></td></tr></table></figure>

<ul>
<li>JS 中的全局变量和函数都是 <code>window</code> 的属性</li>
<li>访问 <code>window.x</code> 等价于访问 <code>x</code></li>
</ul>
<p>例如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">window</span>.<span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;你好&quot;</span>); <span class="hljs-comment">// 弹窗</span><br><span class="hljs-variable language_">window</span>.<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;定时&quot;</span>), <span class="hljs-number">1000</span>);<br></code></pre></td></tr></table></figure>

<ol start="2">
<li><code>location</code> 对象（地址栏相关）</li>
</ol>
<p>用于访问和修改浏览器的地址栏信息。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(location.<span class="hljs-property">href</span>);   <span class="hljs-comment">// 当前地址</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(location.<span class="hljs-property">hostname</span>); <span class="hljs-comment">// 主机名</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(location.<span class="hljs-property">pathname</span>); <span class="hljs-comment">// 路径名</span><br><br><span class="hljs-comment">// 跳转页面</span><br>location.<span class="hljs-property">href</span> = <span class="hljs-string">&quot;https://www.google.com&quot;</span>;<br><br><span class="hljs-comment">// 重新加载</span><br>location.<span class="hljs-title function_">reload</span>();<br></code></pre></td></tr></table></figure>

<ol start="3">
<li><code>history</code> 对象（浏览历史）</li>
</ol>
<p>操作用户的访问历史记录。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">history.<span class="hljs-title function_">back</span>();    <span class="hljs-comment">// 后退</span><br>history.<span class="hljs-title function_">forward</span>(); <span class="hljs-comment">// 前进</span><br>history.<span class="hljs-title function_">go</span>(-<span class="hljs-number">1</span>);    <span class="hljs-comment">// 返回前一个页面</span><br></code></pre></td></tr></table></figure>

<p>📌 注意：不能直接查看访问记录内容（出于安全）</p>
<ol start="4">
<li><code>navigator</code> 对象（浏览器信息）</li>
</ol>
<p>返回浏览器和系统的相关信息：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(navigator.<span class="hljs-property">userAgent</span>);     <span class="hljs-comment">// 浏览器标识，用来描述浏览器信息的字符串。 </span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(navigator.<span class="hljs-property">language</span>);      <span class="hljs-comment">// 当前语言</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(navigator.<span class="hljs-property">platform</span>);      <span class="hljs-comment">// 操作系统平台</span><br></code></pre></td></tr></table></figure>

<ol start="5">
<li><code>screen</code> 对象（屏幕分辨率）</li>
</ol>
<p>返回客户端屏幕相关信息：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(screen.<span class="hljs-property">width</span>);      <span class="hljs-comment">// 屏幕宽度</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(screen.<span class="hljs-property">height</span>);     <span class="hljs-comment">// 屏幕高度</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(screen.<span class="hljs-property">availWidth</span>); <span class="hljs-comment">// 可用宽度（除去任务栏）</span><br></code></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>特性</th>
<th>DOM（文档对象模型）</th>
<th>BOM（浏览器对象模型）</th>
</tr>
</thead>
<tbody><tr>
<td>操作内容</td>
<td>网页内容</td>
<td>浏览器窗口及相关功能</td>
</tr>
<tr>
<td>代表对象</td>
<td><code>document</code></td>
<td><code>window</code>、<code>location</code> 等</td>
</tr>
<tr>
<td>用途</td>
<td>操作文档结构</td>
<td>控制导航、弹窗、定时器等</td>
</tr>
<tr>
<td>是否标准</td>
<td>是（W3C 标准）</td>
<td>否（由浏览器厂商定义）</td>
</tr>
</tbody></table>
<h3 id="【常用-BOM-方法（弹窗-定时器）】"><a href="#【常用-BOM-方法（弹窗-定时器）】" class="headerlink" title="【常用 BOM 方法（弹窗&#x2F;定时器）】"></a>【常用 BOM 方法（弹窗&#x2F;定时器）】</h3><p><strong>弹窗类</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;提示信息&quot;</span>);<br><span class="hljs-title function_">confirm</span>(<span class="hljs-string">&quot;你确定要删除吗？&quot;</span>);  <span class="hljs-comment">// 返回 true/false</span><br><span class="hljs-title function_">prompt</span>(<span class="hljs-string">&quot;请输入你的名字&quot;</span>);     <span class="hljs-comment">// 返回用户输入的字符串</span><br></code></pre></td></tr></table></figure>

<p><strong>定时器类</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;一次性定时器&quot;</span>);<br>&#125;, <span class="hljs-number">1000</span>);<br><br><span class="hljs-keyword">let</span> interval = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;每秒一次&quot;</span>);<br>&#125;, <span class="hljs-number">1000</span>);<br><br><span class="hljs-comment">// 清除</span><br><span class="hljs-built_in">clearTimeout</span>(timer);<br><span class="hljs-built_in">clearInterval</span>(interval);<br></code></pre></td></tr></table></figure>

<p><code>window.open()</code> 打开新窗口</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">window</span>.<span class="hljs-title function_">open</span>(<span class="hljs-string">&quot;https://www.example.com&quot;</span>, <span class="hljs-string">&quot;_blank&quot;</span>);<br></code></pre></td></tr></table></figure>

<p>现代浏览器常常会屏蔽这种行为，除非用户是主动点击触发。</p>
<p><strong>浏览器尺寸与滚动</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>);  <span class="hljs-comment">// 浏览器内容区宽度</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">scrollY</span>);     <span class="hljs-comment">// 页面滚动的垂直距离</span><br></code></pre></td></tr></table></figure>

<h2 id="事件循环"><a href="#事件循环" class="headerlink" title="事件循环"></a>事件循环</h2><p>在 JavaScript 中，理解 <strong>调用栈（Call Stack）</strong> 和 <strong>消息队列（Message Queue &#x2F; Task Queue）</strong> 是掌握<strong>异步编程、事件循环（Event Loop）</strong>、<code>setTimeout</code>、<code>Promise</code> 等机制的核心基础。</p>
<figure class="highlight vb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs vb">      ┌───────────────┐<br>      │    调用栈     │ ← 执行同步代码<br>      └────┬──────────┘<br>           │<br>           ▼<br>  ┌─────────────────────┐<br>  │   Web APIs / 回调注册 │ ← setTimeout、DOM事件等交给浏览器处理<br>  └────┬────────────────┘<br>       │（等待完成）<br>       ▼<br> ┌────────────┐<br> │ 消息队列    │ ← 异步回调排队等执行<br> └────┬───────┘<br>      │<br>      ▼<br><span class="hljs-keyword">Event</span> <span class="hljs-keyword">Loop</span> 检查调用栈空 → 把队列中的回调推进栈中执行<br></code></pre></td></tr></table></figure>

<h3 id="【调用栈（Call-Stack）】"><a href="#【调用栈（Call-Stack）】" class="headerlink" title="【调用栈（Call Stack）】"></a>【调用栈（Call Stack）】</h3><p>调用栈是 JS 引擎用来跟踪函数执行过程的数据结构，<strong>遵循 LIFO（后进先出）</strong> 原则。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-title function_">bar</span>();<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">bar</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;hello&quot;</span>);<br>&#125;<br><br><span class="hljs-title function_">foo</span>();<br></code></pre></td></tr></table></figure>

<p>执行过程：</p>
<ol>
<li><code>foo()</code> 进栈</li>
<li><code>bar()</code> 进栈</li>
<li><code>console.log()</code> 进栈并执行</li>
<li><code>console.log()</code> 出栈 → <code>bar()</code> 出栈 → <code>foo()</code> 出栈</li>
</ol>
<p>小结：</p>
<ul>
<li><strong>同步代码</strong>是依次进入调用栈中执行的</li>
<li>调用栈满时，不能执行任何新的代码（也不能处理异步）</li>
</ul>
<h3 id="【消息队列（Message-Queue）】"><a href="#【消息队列（Message-Queue）】" class="headerlink" title="【消息队列（Message Queue）】"></a>【消息队列（Message Queue）】</h3><p>消息队列是一个等待执行的<strong>异步任务回调列表</strong>，当调用栈清空后，<strong>事件循环（Event Loop）</strong> 会从队列中取出任务并执行。</p>
<p><strong>包含内容：</strong></p>
<ul>
<li><code>setTimeout</code>、<code>setInterval</code> 的回调</li>
<li>DOM 事件（如点击、键盘）</li>
<li>网络请求（如 Ajax 回调）</li>
<li><code>Promise.then()</code>（微任务，不在主消息队列，详见后）</li>
</ul>
<h3 id="【事件循环（Event-Loop）】"><a href="#【事件循环（Event-Loop）】" class="headerlink" title="【事件循环（Event Loop）】"></a>【事件循环（Event Loop）】</h3><p>事件循环的核心职责：</p>
<blockquote>
<p>💡 “不断地检查调用栈是否为空，如果为空，就从消息队列中取出一个回调执行”。</p>
</blockquote>
<p>这是 JS 实现异步非阻塞编程的关键机制。</p>
<p>经典例子：setTimeout</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;1&quot;</span>);<br><br><span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;2&quot;</span>);<br>&#125;, <span class="hljs-number">0</span>);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;3&quot;</span>);<br></code></pre></td></tr></table></figure>

<p>setInterval() 没间隔一段时间就将函数添加到消息队列中但是如果函数执行的速度比较慢，它是无法确保每次执行的间隔都是一样的</p>
<h3 id="输出顺序："><a href="#输出顺序：" class="headerlink" title="输出顺序："></a>输出顺序：</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-number">1</span><br><span class="hljs-number">3</span><br><span class="hljs-number">2</span><br></code></pre></td></tr></table></figure>

<p>原因：</p>
<ul>
<li><code>console.log(&quot;1&quot;)</code> 进入栈并立即执行</li>
<li><code>setTimeout(...)</code> 把回调注册到 Web API，并排入<strong>消息队列</strong></li>
<li><code>console.log(&quot;3&quot;)</code> 进入栈并立即执行</li>
<li>调用栈清空，事件循环从消息队列中取出 <code>console.log(&quot;2&quot;)</code> 执行</li>
</ul>
<h3 id="【微任务队列（Microtask-Queue）】"><a href="#【微任务队列（Microtask-Queue）】" class="headerlink" title="【微任务队列（Microtask Queue）】"></a>【微任务队列（Microtask Queue）】</h3><p>JavaScript 还有一个比消息队列<strong>优先级更高</strong>的队列叫：<strong>微任务队列</strong>。</p>
<p>常见的微任务来源：</p>
<ul>
<li><code>Promise.then()</code>, <code>catch()</code>, <code>finally()</code></li>
<li><code>MutationObserver</code></li>
</ul>
<p>示例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;start&quot;</span>);<br><br><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;promise&quot;</span>);<br>&#125;);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;end&quot;</span>);<br></code></pre></td></tr></table></figure>

<p><strong>输出：</strong></p>
<figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs arduino">start<br>end<br>promise<br></code></pre></td></tr></table></figure>

<p>原因：微任务在当前宏任务执行完后、下一个宏任务前执行。</p>
<p><strong>宏任务 vs 微任务</strong></p>
<table>
<thead>
<tr>
<th>分类</th>
<th>举例</th>
</tr>
</thead>
<tbody><tr>
<td>宏任务</td>
<td><code>setTimeout</code>, <code>setInterval</code>, <code>fetch</code>, <code>DOM事件</code></td>
</tr>
<tr>
<td>微任务</td>
<td><code>Promise.then</code>, <code>queueMicrotask</code>, <code>MutationObserver</code></td>
</tr>
</tbody></table>
<blockquote>
<p><strong>调用栈</strong>负责执行同步任务，<strong>消息队列</strong>存放异步回调，<strong>事件循环</strong>协调两者，确保 JavaScript 在单线程下实现异步编程。</p>
</blockquote>
<h3 id="【图解执行顺序（带-Promise）】"><a href="#【图解执行顺序（带-Promise）】" class="headerlink" title="【图解执行顺序（带 Promise）】"></a>【图解执行顺序（带 Promise）】</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;A&quot;</span>);<br><br><span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;B&quot;</span>);<br>&#125;, <span class="hljs-number">0</span>);<br><br><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;C&quot;</span>);<br>&#125;);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;D&quot;</span>);<br></code></pre></td></tr></table></figure>

<h3 id="输出顺序：-1"><a href="#输出顺序：-1" class="headerlink" title="输出顺序："></a>输出顺序：</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">A</span><br>D<br>C   ← 微任务先于宏任务<br><span class="hljs-selector-tag">B</span><br></code></pre></td></tr></table></figure>

<h1 id="jQuery"><a href="#jQuery" class="headerlink" title="jQuery"></a>jQuery</h1><blockquote>
<p><a target="_blank" rel="noopener" href="https://lilichao.com/?p=6402">jQuery – 李立超 | lilichao.com</a></p>
</blockquote>
<h2 id="jQuery介绍"><a href="#jQuery介绍" class="headerlink" title="jQuery介绍"></a>jQuery介绍</h2><p>jQuery是一个快速的、小型的、具有丰富功能的JavaScript库。<strong>它的出现使得网页中的DOM、事件、动画、Ajax等操作变得更加简单</strong>。“写更少的代码，做更多的事儿”是jQuery一直坚信的开发理念。</p>
<p>库就是一组代码，这组代码中包含了一些已经定义好的对象和函数。只需要将库引入到页面中，即可直接使用这些对象和函数。库中的代码通常是为了解决一些我们开发中的一些不便。jQuery中的代码就是为了简化原生JS的操作，同样一个功能使用原生JS你也许要编写五行代码，使用jQuery一行就可以搞定，同时jQuery还可以帮助我们处理掉浏览器的兼容问题。</p>
<h3 id="【jQuery-——-一个过时的库】"><a href="#【jQuery-——-一个过时的库】" class="headerlink" title="【jQuery —— 一个过时的库】"></a>【jQuery —— 一个过时的库】</h3><p>所有的库都是为了解决我们开发时的痛点而存在的。jQuery解决的问题主要有两个：<font color="#409eff">简化DOM操作、解决浏览器兼容问题</font>。然而随着前端的发展、DOM标准的更新、IE的消亡。DOM操作和浏览器兼容性早已不是什么大问题了，再加上React、Vue、Angular这些大型框架的出现，在实际项目中使用jQuery的机会可以说是少之又少。这是不是就意味着我们没有必要在学习jQuery了呢？是的，确实没有学习jQuery的必要了。所以如果是比较赶时间的同学，完全可以跳过jQuery的学习，不需要再继续听下边的内容了。</p>
<p><strong>CDN</strong></p>
<p>使用公共cdn比较简单，以字节跳动静态资源为例，要引入3.x版本的jQuery，只需要将如下代码粘贴到网页中即可：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/jquery/3.6.0/jquery.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>或者这个：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/jquery/3.6.0/jquery.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>完整：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;zh&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/jquery/3.6.0/jquery.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h2 id="jQuery核心函数"><a href="#jQuery核心函数" class="headerlink" title="jQuery核心函数"></a>jQuery核心函数</h2><p>引入jQuery后，它会自动在全局作用域添加一个名为<code>jQuery</code>的新函数，新函数还有一个别名<code>$</code>。换句话说，通过<code>jQuery</code>和<code>$</code>都可以访问到这个函数，这个函数我们称为jQuery的核心函数。我们引入jQuery目的就是得到这个函数，学习jQuery也就是在学习这个核心函数。</p>
<p>可以通过两种方式来使用核心函数，一种是将其作为对象使用，此时它是一个工具类，在其中封装了一些属性和方法。</p>
<ul>
<li>jQuery.contains()</li>
<li>jQuery.isArray()</li>
<li>jQuery.isFunction()</li>
<li>jQuery.isNumeric()</li>
<li>……</li>
</ul>
<p>另一种是将其作为函数调用，根据参数的不同可以会发挥不同的作用。</p>
<ul>
<li>jQuery(函数)</li>
<li>jQuery(选择器)</li>
<li>jQuery(DOM对象)</li>
<li>jQuery(HTML代码)</li>
</ul>
<p>注意：上述编写代码时可以使用$代替jQuery。</p>
<h3 id="【函数作为参数】"><a href="#【函数作为参数】" class="headerlink" title="【函数作为参数】"></a>【函数作为参数】</h3><p>当使用函数作为jQuery的参数时，jQuery会使该函数在文档加载完毕后执行，比如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">$(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>    <br>&#125;)<br></code></pre></td></tr></table></figure>

<p>等价于</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;DOMContentLoaded&quot;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>    <br>&#125;)<br></code></pre></td></tr></table></figure>

<h3 id="【选择器字符串作为参数】"><a href="#【选择器字符串作为参数】" class="headerlink" title="【选择器字符串作为参数】"></a>【选择器字符串作为参数】</h3><p>如果将一个选择器字符串作为参数传递给核心函数，则jQuery会根据选择器去页面中查询元素，并将查询到的元素返回，比如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> $box1 = $(<span class="hljs-string">&quot;#box1&quot;</span>) <span class="hljs-comment">// 获取id为box1的元素</span><br><span class="hljs-keyword">var</span> $news = $(<span class="hljs-string">&quot;.news&quot;</span>) <span class="hljs-comment">// 获取class为news的元素</span><br><span class="hljs-keyword">var</span> $hello = $(<span class="hljs-string">&quot;[title=hello]&quot;</span>) <span class="hljs-comment">// 获取title属性为hello的元素</span><br></code></pre></td></tr></table></figure>

<p>注意！通过jQuery核心函数获取到的对象并不是我们所熟悉的DOM对象，而是一个由jQuery定义的新对象，为了和我们熟悉的DOM对象做区分，这个对象我们称之为jQuery对象。<font color="#409eff">记住！通过jQuery核心函数获取到的对象是jQuery对象。</font></p>
<p>DOM对象本身存在着一些不足，比如兼容问题、操作不方便等，为了解决这些问题，jQuery设计了一个新的对象，jQuery对象。可以将jQuery对象理解为DOM对象的升级版，为DOM对象增加了许多功能，同时解决了DOM对象的兼容性问题，关于jQuery对象的细节后续讲解。</p>
<h3 id="【DOM对象作为参数】"><a href="#【DOM对象作为参数】" class="headerlink" title="【DOM对象作为参数】"></a>【DOM对象作为参数】</h3><p>如果将一个DOM对象作为参数，核心函数会将其转换为jQuery对象并返回。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> box1 = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;box1&quot;</span>) <span class="hljs-comment">// 获取DOM对象</span><br><span class="hljs-keyword">var</span> $box1 = $(box1) <span class="hljs-comment">// 转换为jQuery对象</span><br></code></pre></td></tr></table></figure>

<h3 id="【HTML代码作为参数】"><a href="#【HTML代码作为参数】" class="headerlink" title="【HTML代码作为参数】"></a>【HTML代码作为参数】</h3><p>如果将一段HTML代码作为参数，核心函数会根据HTML代码创建jQuery对象。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> $div = $(<span class="hljs-string">&quot;&lt;div/&gt;&quot;</span>)<br><span class="hljs-keyword">var</span> $span = $(<span class="hljs-string">&quot;&lt;span&gt;这是一个span&lt;/span&gt;&quot;</span>)<br></code></pre></td></tr></table></figure>

<h2 id="jQuery对象"><a href="#jQuery对象" class="headerlink" title="jQuery对象"></a>jQuery对象</h2><p>如上所述，jQuery对象时jQuery中新定义的对象，它像是一个用来存储DOM对象的数组（类型并不是Array）。可以通过length来获取其中DOM元素的数量，也可以通过索引来获取其中的某个元素。但是jQuery对象又并不是那么的简单，在它里边为我们提供了很多好用的方法，使我们可以快速的操作其中的DOM对象。</p>
<p>使用jQuery对象进行DOM操作时，无需再调用原生DOM的方法，直接调用jQuery对象的方法即可。通过jQuery对象进行修改操作时，会同时修改jQuery对象中的所有DOM对象，举个例子：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;zh&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;./script/jquery/jquery-3.6.1.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>孙悟空<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>猪八戒<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>沙和尚<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>唐僧<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>       <br>        <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"></span><br><span class="language-javascript">            $(<span class="hljs-string">&quot;li&quot;</span>).<span class="hljs-title function_">text</span>(<span class="hljs-string">&quot;新值&quot;</span>)</span><br><span class="language-javascript"></span><br><span class="language-javascript">        </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>上例中，页面中有四个li，<code>$(&quot;li&quot;)</code>通过选择器获取页面中的所有li，<code>text()</code>是jQuery对象的方法用于获取或修改元素内部的文本内容。<code>$(&quot;li&quot;).text(&quot;新值&quot;)</code>调用后会修改所有的li中的文本内容。</p>
<p>这一特性被称为隐式迭代，隐式迭代的存在使得我们在修改多个DOM元素时不再需要遍历，一个方法即可修改所有元素。但是隐式迭代并不意外着不迭代不遍历，实际的遍历操作在jQuery对象内部完成。</p>
<p>jQuery对象的大部分方法都会将jQuery对象自身作为返回值，这意味着通过jQuery对象调用方法后，可以继续调用其他的方法，比如这样：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;zh&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;./script/jquery/jquery-3.6.1.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>孙悟空<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>猪八戒<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>沙和尚<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>唐僧<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br><br>        <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"></span><br><span class="language-javascript">            $(<span class="hljs-string">&quot;li&quot;</span>).<span class="hljs-title function_">text</span>(<span class="hljs-string">&quot;新的内容&quot;</span>).<span class="hljs-title function_">css</span>(&#123;<span class="hljs-attr">color</span>:<span class="hljs-string">&quot;red&quot;</span>&#125;)</span><br><span class="language-javascript"></span><br><span class="language-javascript">        </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p><code>$(&quot;li&quot;).text(&quot;新的内容&quot;).css(&#123;color:&quot;red&quot;&#125;)</code>在修改文本后继续修改jQuery对象的样式，这一特性被称为链式调用，通过链式调用可以一次性对jQuery对象做多个操作。</p>
<h3 id="常用方法"><a href="#常用方法" class="headerlink" title="常用方法"></a>常用方法</h3><p>addClass()</p>
<ul>
<li>为jQuery对象添加一个或多个class</li>
</ul>
<p>hasClass()</p>
<ul>
<li>检查jQuery对象是否含有某个class</li>
</ul>
<p>removeClass()</p>
<ul>
<li>删除jQuery对象的指定class</li>
</ul>
<p>toggleClass()</p>
<ul>
<li>切换jQuery对象的指定class</li>
</ul>
<hr>
<p>clone()</p>
<ul>
<li>复制jQuery元素</li>
</ul>
<hr>
<p>unwrap()</p>
<ul>
<li>去除父元素</li>
</ul>
<p>wrap()</p>
<ul>
<li>添加父元素</li>
</ul>
<p>wrapAll()</p>
<ul>
<li>添加父元素</li>
</ul>
<p>wrapInner()</p>
<ul>
<li>在元素内部增加一层</li>
</ul>
<hr>
<p>append()</p>
<ul>
<li>添加子元素</li>
</ul>
<p>appendTo()</p>
<ul>
<li>添加到父元素</li>
</ul>
<p>prepend()</p>
<ul>
<li>向前添加子元素</li>
</ul>
<p>prependTo()</p>
<ul>
<li>添加到父元素前</li>
</ul>
<p>html()</p>
<ul>
<li>读取或设置html代码</li>
</ul>
<p>text()</p>
<ul>
<li>读取或设置文本内容</li>
</ul>
<hr>
<p>after()</p>
<ul>
<li>向后边添加元素</li>
</ul>
<p>insertAfter()</p>
<ul>
<li>将元素添加到某元素的后边</li>
</ul>
<p>before()</p>
<ul>
<li>向前边添加元素</li>
</ul>
<p>insertBefore()</p>
<ul>
<li>将元素添加到某元素的前边</li>
</ul>
<hr>
<p>detach()</p>
<ul>
<li>删除元素（保留元素上的事件）</li>
</ul>
<p>empty()</p>
<ul>
<li>删除所有子元素</li>
</ul>
<p>remove()</p>
<ul>
<li>删除元素</li>
</ul>
<hr>
<p>replaceAll()</p>
<ul>
<li>替换某个元素</li>
</ul>
<p>replaceWith()</p>
<ul>
<li>被某个元素替换</li>
</ul>
<hr>
<p>attr()</p>
<ul>
<li>设置&#x2F;获取元素的指定属性</li>
<li>布尔值属性会返回实际值</li>
</ul>
<p>prop()</p>
<ul>
<li>设置&#x2F;获取元素的指定属性</li>
<li>布尔值属性会返回布尔值</li>
</ul>
<p>removeAttr()</p>
<ul>
<li>移除属性</li>
</ul>
<p>removeProp()</p>
<ul>
<li>移除属性</li>
</ul>
<p>val()</p>
<ul>
<li>设置&#x2F;获取元素的value属性</li>
</ul>
<hr>
<p>css()</p>
<ul>
<li>读取&#x2F;设置元素的css样式</li>
</ul>
<p>height()</p>
<ul>
<li>读取&#x2F;设置元素的高度</li>
</ul>
<p>width()</p>
<ul>
<li>读取&#x2F;设置元素的宽度</li>
</ul>
<p>innerHeight()</p>
<ul>
<li>读取&#x2F;设置元素的内部高度</li>
</ul>
<p>innerWidth()</p>
<ul>
<li>读取&#x2F;设置元素的内部宽度</li>
</ul>
<p>outerHeight()</p>
<ul>
<li>读取&#x2F;设置元素可见框的高度</li>
</ul>
<p>outerWidth()</p>
<ul>
<li>读取&#x2F;设置元素可见框的宽度</li>
</ul>
<p>offset()</p>
<ul>
<li>读取&#x2F;设置元素的偏移量</li>
</ul>
<p>position()</p>
<ul>
<li>读取元素相当于包含块的偏移量</li>
</ul>
<p>scrollLeft()</p>
<ul>
<li>读取&#x2F;设置元素水平滚动条的位置</li>
</ul>
<p>scrollTop()</p>
<ul>
<li>读取&#x2F;设置元素垂直滚动条的位置</li>
</ul>
<hr>
<p>eq()</p>
<ul>
<li>获取指定索引的元素</li>
</ul>
<p>even()</p>
<ul>
<li>获取索引为偶数的元素</li>
</ul>
<p>odd()</p>
<ul>
<li>获取索引为奇数的元素</li>
</ul>
<p>filter()</p>
<ul>
<li>筛选元素</li>
</ul>
<p>first()</p>
<ul>
<li>获取第一个元素</li>
</ul>
<p>last()</p>
<ul>
<li>获取最后一个元素</li>
</ul>
<p>has()</p>
<ul>
<li>获取含有指定后代的元素</li>
</ul>
<p>is()</p>
<ul>
<li>检查是否含有某元素</li>
</ul>
<p>map()</p>
<ul>
<li>获取对象中的指定数据</li>
</ul>
<p>slice()</p>
<ul>
<li>截取元素（切片）</li>
</ul>
<hr>
<p>add()</p>
<ul>
<li>创建包含当前元素的新的jQuery对象</li>
</ul>
<p>addBack()</p>
<ul>
<li>将之前操作的集合中的元素添加到当前集合中</li>
</ul>
<p>contents()</p>
<ul>
<li>获取当前jQuery对象的所有子节点（包括文本节点）</li>
</ul>
<p>end()</p>
<ul>
<li>将筛选过的列表恢复到之前的状态</li>
</ul>
<p>not()</p>
<ul>
<li>从列表中去除符合条件的元素</li>
</ul>
<hr>
<p>children()</p>
<ul>
<li>获取子元素</li>
</ul>
<p>closest()</p>
<ul>
<li>获取离当前元素最近的指定元素</li>
</ul>
<p>find()</p>
<ul>
<li>查询指定的后代元素</li>
</ul>
<p>next()</p>
<ul>
<li>获取后一个兄弟元素</li>
</ul>
<p>nextAll()</p>
<ul>
<li>获取后边所有的兄弟元素</li>
</ul>
<p>nextUntil()</p>
<ul>
<li>获取后边指定位置的兄弟元素</li>
</ul>
<p>offsetParent()</p>
<ul>
<li>获取定位父元素</li>
</ul>
<p>parent()</p>
<ul>
<li>获取父元素</li>
</ul>
<p>parents()</p>
<ul>
<li>获取所有的祖先元素</li>
</ul>
<p>parensUntil()</p>
<ul>
<li>获取指定的祖先元素</li>
</ul>
<p>prev()</p>
<ul>
<li>获取前边的兄弟元素</li>
</ul>
<p>prevAll()</p>
<ul>
<li>获取前边所有的兄弟元素</li>
</ul>
<p>prevUntil()</p>
<ul>
<li>获取指定的兄弟元素</li>
</ul>
<p>siblings()</p>
<ul>
<li>获取所有的兄弟元素</li>
</ul>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/" class="category-chain-item">前端学习</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/%E5%89%8D%E7%AB%AF%E4%B8%89%E4%BB%B6%E5%A5%97/" class="print-no-link">#前端三件套</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>JavaScript基础</div>
      <div>http://example.com/2025/08/04/前端学习/JavaScript核心总结/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>Xiang Chen</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2025年8月4日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2025/08/05/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95/" title="前端面试资源">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">前端面试资源</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2025/07/23/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/MYVUE3-2025-07-23/" title="MYVUE3-2025-07-23">
                        <span class="hidden-mobile">MYVUE3-2025-07-23</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments" lazyload>
      
  <div id="valine"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#valine', function() {
      Fluid.utils.createScript('https://lib.baomitu.com/valine/1.5.1/Valine.min.js', function() {
        var options = Object.assign(
          {"appId":"xXfj7jVpB8fiyIpWQbXJP1Gj-gzGzoHsz","appKey":"RoFR6Po4mFIHocqHXZ42PUGO","path":"window.location.pathname","placeholder":"输入你的评论","avatar":"retro","meta":["nick","mail","link"],"requiredFields":[],"pageSize":10,"lang":"zh-CN","highlight":false,"recordIP":false,"serverURLs":"","emojiCDN":null,"emojiMaps":null,"enableQQ":false},
          {
            el: "#valine",
            path: window.location.pathname
          }
        )
        new Valine(options);
        Fluid.utils.waitElementVisible('#valine .vcontent', () => {
          var imgSelector = '#valine .vcontent img:not(.vemoji)';
          Fluid.plugins.imageCaption(imgSelector);
          Fluid.plugins.fancyBox(imgSelector);
        })
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
